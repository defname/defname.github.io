import{d as x,o as n,c as o,f as e,X as R,n as r,_ as V,e as D,Z as S,$ as z,w as a,b as t,h as T,j as l,r as c,a0 as B,l as u,D as w,a1 as C,N as L,a2 as N,a3 as P,a4 as j,i as y,a5 as F,g as i,F as d,V as G,a6 as q,t as b,a7 as M,a8 as O,I as U,a9 as $,aa as H,a as I}from"./index-iO1bX4p0.js";import{u as Q,a as X}from"./riskassessment-yje505BE.js";import{l as Z}from"./livequery-7XNqutJr.js";import{T as J}from"./TemplateRiskAssessmentPage-MWYeUpvw.js";import"./helpers-O1WMooQx.js";import"./liveriskstree-KWglCX74.js";const K=x({__name:"Checkmark",setup(h){return(v,s)=>(n(),o(e(r),{class:"checkmark",slot:"end",color:"success",icon:e(R)},null,8,["icon"]))}}),k=V(K,[["__scopeId","data-v-b74799a7"]]),W=h=>($("data-v-9c2bb659"),h=h(),H(),h),Y=W(()=>I("ul",{class:"nested-list",lines:"none"},[I("li",{class:"ion-no-padding ion-no-margin nested-list-item",lines:"none"},"TEst"),I("li",{class:"ion-no-padding ion-no-margin nested-list-item",lines:"none"},"TEst")],-1)),ee={key:1,class:"nested-list ion-no-padding",lines:"none"},se={class:"ion-no-padding ion-no-margin nested-list-item",lines:"none",size:"small"},te=x({__name:"RAEditOverview",setup(h){const v=Z.table("technicians"),s=Q(),A=D(()=>v.isReady().value?s.technicians.map(_=>v.get(_)):[]),m="/riskassessment/"+s.id,E=X(),g=S({direct:-1,all:-1,solved:-1});return z(E,async()=>{await s.ready,g.direct=s.risks.length;const _=await s.calcAllRisks();g.all=_.length,g.solved=_.filter(p=>s.measures[p]!==void 0&&s.measures[p].length>0).length}),(_,p)=>(n(),o(J,null,{default:a(()=>[t(e(U),{lines:"full"},{default:a(()=>[t(e(T),null,{default:a(()=>[l(" Allgemeines ")]),_:1}),t(e(c),null,{default:a(()=>[t(e(r),{slot:"start",icon:e(B)},null,8,["icon"]),e(s).company?(n(),o(k,{key:0})):u("",!0),t(e(w),{label:"Ausführende Firma","label-placement":"floating",modelValue:e(s).company,"onUpdate:modelValue":p[0]||(p[0]=f=>e(s).company=f)},null,8,["modelValue"])]),_:1}),t(e(c),null,{default:a(()=>[t(e(r),{slot:"start",icon:e(C)},null,8,["icon"]),e(s).jobDescr?(n(),o(k,{key:0})):u("",!0),t(e(L),{label:"Beschreibung der Tätigkeit","label-placement":"floating","auto-grow":"",modelValue:e(s).jobDescr,"onUpdate:modelValue":p[1]||(p[1]=f=>e(s).jobDescr=f)},null,8,["modelValue"])]),_:1}),t(e(c),null,{default:a(()=>[t(e(r),{slot:"start",icon:e(N)},null,8,["icon"]),e(s).address?(n(),o(k,{key:0})):u("",!0),t(e(w),{"router-link":m+"/location",label:"Addresse","label-placement":"floating",readonly:"",value:e(s).address},null,8,["router-link","value"])]),_:1}),t(e(c),null,{default:a(()=>[t(e(r),{slot:"start",icon:e(P)},null,8,["icon"]),e(s).startDate?(n(),o(k,{key:0})):u("",!0),t(e(w),{"router-link":m+"/date",label:"Datum","label-placement":"floating",readonly:"",value:e(s).startDate+(e(s).endDate?" - "+e(s).endDate:"")},null,8,["router-link","value"])]),_:1}),t(e(c),{"router-link":m+"/equipment",detail:!1},{default:a(()=>[t(e(r),{slot:"start",icon:e(j)},null,8,["icon"]),e(s).equipment?(n(),o(k,{key:0})):u("",!0),t(e(y),{position:"stacked",style:{"z-index":"10"},class:"label"},{default:a(()=>[l("Ausrüstung")]),_:1}),Y]),_:1},8,["router-link"]),t(e(c),{"router-link":m+"/technicians",detail:!1},{default:a(()=>[t(e(r),{slot:"start",icon:e(F)},null,8,["icon"]),e(s).technicians.length>0?(n(),o(k,{key:0})):u("",!0),t(e(y),{position:"stacked",style:{"z-index":"10"},class:"label"},{default:a(()=>[l("Personal")]),_:1}),e(s).technicians.length>0?(n(),i("ul",ee,[(n(!0),i(d,null,G(A.value,f=>(n(),i("li",se,b(f.name),1))),256))])):(n(),i(d,{key:2},[l(" Es wurde noch kein Personal ausgewählt ")],64))]),_:1},8,["router-link"]),t(e(c),{"router-link":m+"/access",detail:!1},{default:a(()=>[t(e(r),{slot:"start",icon:e(q)},null,8,["icon"]),e(s).access.length>0?(n(),o(k,{key:0})):u("",!0),t(e(y),{position:"stacked",style:{"z-index":"10"},class:"label"},{default:a(()=>[l("Sektoren")]),_:1}),e(s).access.length===0?(n(),i(d,{key:1},[l("Es wurden noch keine Sektoren definiert")],64)):e(s).access.length===1?(n(),i(d,{key:2},[l("Es wurde ein Sektor definiert")],64)):(n(),i(d,{key:3},[l("Es wurden bisher "+b(e(s).access.length)+" Sektoren definiert",1)],64))]),_:1},8,["router-link"]),t(e(c),{"router-link":m+"/rescue",detail:!1},{default:a(()=>[t(e(r),{slot:"start",icon:e(M)},null,8,["icon"]),e(s).access.length>0?(n(),o(k,{key:0})):u("",!0),t(e(y),{position:"stacked",style:{"z-index":"10"},class:"label"},{default:a(()=>[l("Rettungskonzept")]),_:1}),e(s).access.length===0?(n(),i(d,{key:1},[l("Es wurden noch keine Sektoren definiert")],64)):(n(),i(d,{key:2},[l("Für "+b(e(s).access.filter(f=>f.rescue).length)+" Sektoren existiert ein Rettungskonzept",1)],64))]),_:1},8,["router-link"]),t(e(c),{"router-link":m+"/risks",detail:!1},{default:a(()=>[t(e(r),{slot:"start",icon:e(O)},null,8,["icon"]),e(s).access.length>0?(n(),o(k,{key:0})):u("",!0),t(e(y),{position:"stacked",style:{"z-index":"10"},class:"label"},{default:a(()=>[l("Gefährdungen")]),_:1}),g.all===0?(n(),i(d,{key:1},[l("Es wurden noch keine Gefährdungen hinzugefügt")],64)):(n(),i(d,{key:2},[l(" Von insgesamt "+b(g.all)+" Gefährdungen sind für "+b(g.solved)+" Maßnahmen angegeben. ",1)],64))]),_:1},8,["router-link"])]),_:1})]),_:1}))}}),ce=V(te,[["__scopeId","data-v-9c2bb659"]]);export{ce as default};
