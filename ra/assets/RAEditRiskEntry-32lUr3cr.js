import{d as y,u as I,e as R,o as f,c as p,w as s,f as e,g as V,b as r,r as c,i as g,j as l,t as m,a as M,ai as b,l as _,N as B,I as A,h as N,k as T,F as h}from"./index-YvNBdq1j.js";import{u as v}from"./riskassessment-zHwtPPAT.js";import{l as w}from"./liveriskstree-uYgo7w9o.js";import{l as x}from"./livequery-N0RiMmpp.js";import{_ as L}from"./MeasureCatalog.vue_vue_type_script_setup_true_lang-FIBHpARW.js";import{_ as C}from"./AddedByList.vue_vue_type_script_setup_true_lang-EHKZkoJt.js";import{T as E}from"./TemplateRiskAssessmentPage-UuB85dOd.js";import"./helpers-d_hvXeLi.js";import"./GenericList.vue_vue_type_script_setup_true_lang-R-xPe0z_.js";const $={style:{"font-size":"1.2rem","margin-bottom":"0.3rem"}},q=y({__name:"RAEditRiskEntry",setup(z){const t=v(),i=x.table("measures"),a=parseInt(I().params.riskId),o=w.getAsRef(a),k=R(()=>{if(!i.isReady().value)return[];t.getMeasures(a).map(u=>i.get(u))});return t.getMeasures(a),(u,n)=>(f(),p(E,null,{default:s(()=>[e(o)&&e(t).isReady&&e(i).isReady()?(f(),V(h,{key:0},[r(e(A),{lines:"none"},{default:s(()=>[r(e(c),{class:"ion-margin-bottom"},{default:s(()=>[r(e(g),{position:"stacked"},{default:s(()=>[l(m(e(o).factor.category.descr)+" ➤ "+m(e(o).factor.descr),1)]),_:1}),M("p",$,m(e(o).descr),1),e(t).getMeta(e(a)).addedBy.length>0?(f(),p(e(b),{key:0},{default:s(()=>[r(C,{"trigger-list":e(t).getMeta(e(a)).addedBy},null,8,["trigger-list"])]),_:1})):_("",!0)]),_:1}),r(e(c),null,{default:s(()=>[l(m(e(t).getMeta(e(a)))+" ",1),r(e(B),{label:"Kommentar","auto-grow":"","label-placement":"floating",modelValue:e(t).getMeta(e(a)).comment,"onUpdate:modelValue":n[0]||(n[0]=d=>e(t).getMeta(e(a)).comment=d)},null,8,["modelValue"])]),_:1})]),_:1}),r(L,{modelValue:e(t).measures[e(a)],"onUpdate:modelValue":n[1]||(n[1]=d=>e(t).measures[e(a)]=d),entries:k.value,inverted:""},{header:s(()=>[r(e(N),null,{default:s(()=>[r(e(g),null,{default:s(()=>[l("Ausgewählte Maßnahmen")]),_:1}),r(e(T),{"router-link":u.$route.path+"/addmeasures"},{default:s(()=>[l("Hinzufügen")]),_:1},8,["router-link"])]),_:1})]),_:1},8,["modelValue","entries"])],64)):_("",!0)]),_:1}))}});export{q as default};
