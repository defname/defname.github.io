System.register(["./index-legacy-hfBwh4yZ.js","./riskassessment-legacy-3nZ_jMJc.js","./GenericEditModal-legacy-KU0bn8FW.js","./helpers-legacy-UTasamku.js","./TemplateRiskAssessmentPage-legacy-Ef-VrNqR.js","./SignatureInput-legacy-7iqjukzR.js","./livequery-legacy-ao2KYoJw.js","./liveriskstree-legacy-QYi134IG.js","./index-legacy-VhtGbGSo.js"],(function(n,e){"use strict";var l,t,s,u,r,i,a,c,d,o,g,h,p,f,m,k,y,v,b,T,A,D,E,H,j,M;return{setters:[n=>{l=n.d,t=n.x,s=n.aj,u=n.o,r=n.c,i=n.w,a=n.b,c=n.j,d=n.f,o=n.k,g=n.H,h=n.J,p=n.K,f=n.a,m=n.t,k=n.g,y=n.l,v=n.R,b=n.F,T=n.G},n=>{A=n.b,D=n.u},n=>{E=n.G},n=>{H=n.S},n=>{j=n.T},n=>{M=n.S},null,null,null],execute:function(){const e={id:"print"},_=f("h1",null,"Einsatzplanung",-1),x=f("p",null," Es wird grundsätzlich nach den geltenden Regeln und Vorschriften der DGUV, dem Arbeitsschutzgesetz, der BetrSichV, den TRBS und der FISAT FSR-SZP gearbeitet. ",-1),L=f("strong",null,"Ausführende Firma:",-1),z=f("strong",null,"Einsatzdatum:",-1),S=f("strong",null,"Einsatzort:",-1),G=f("strong",null,"Durchzuführende Arbeiten:",-1),w=f("br",null,null,-1),F={key:0},R=f("strong",null,"Aufsichtsführende Höhenarbeiter:",-1),P=f("p",null,[f("strong",null,"Höhenarbeiter:")],-1),I=f("thead",null,[f("tr",null,[f("th",null,"Name"),f("th",null,"FISAT-Nr"),f("th",null,"Level")])],-1),C=f("strong",null,"Ausrüstung:",-1),N=f("h2",null,"Zugangsverfahren",-1),O={key:0},U=f("strong",null,"Einstieg:",-1),B=["innerHTML"],V={key:1},Z=f("strong",null,"Ausstieg:",-1),q=["innerHTML"],K={key:2},W=f("strong",null,"Anschlagpunkte:",-1),$=["innerHTML"],J=["innerHTML"],Q=f("h2",null,"Notfall- und Rettungsplan",-1),X=["innerHTML"],Y=f("h1",null,"Gefährdungsermittlung",-1),nn={key:0},en={key:1},ln={key:2},tn=f("thead",null,[f("tr",null,[f("th",null,"Gefährdung"),f("th",null,"Maßnahme")])],-1),sn={colspan:"2"},un={class:"factor"},rn={key:0},an=["src"],cn={key:2},dn=[f("strong",null,"Ohne Unterschrift",-1)],on=f("h1",null,"Empfangsbestätigung",-1),gn=f("p",null," Es wird bestätigt, über Gefahren und Maßnahmen aufgeklärt worden zu sein. ",-1),hn=["src"];n("default",l({__name:"RiskAssessmentExport",setup(n){const l=D(),{exportData:pn,updateExportData:fn}=A(),{open:mn}=function(n){const{exportData:e,updateExportData:l}=A(n);return{open:async()=>{await l(),console.log("FOOO")}}}(),kn=t(void 0),yn=t(!1);async function vn(){!function(n){const e=window.open("","print","");if(!e)return;e.open(),e.document.write(`<html>\n    <head>\n        <link rel="stylesheet" href="/ra/print.css" />\n    </head>\n    <body>${n.outerHTML}\n    </body>\n    </html>`),e.document.close();const l=e.document.createElement("script");l.setAttribute("src","/ra/print.js"),e.document.head.appendChild(l)}(document.getElementById("print"))}function bn(n){l.signature=n,fn()}return s((()=>{fn()})),(n,t)=>(u(),r(j,null,{default:i((()=>[a(d(o),{"router-link":"/riskassessment/"+d(l).id+"/sign"},{default:i((()=>[c("Unterzeichnen (Technicker)")])),_:1},8,["router-link"]),a(d(o),{onClick:t[0]||(t[0]=n=>yn.value=!0)},{default:i((()=>[c("Unterzeichnen")])),_:1}),a(d(o),{onClick:t[1]||(t[1]=n=>vn())},{default:i((()=>[c("Drucken")])),_:1}),a(d(o),{onClick:t[2]||(t[2]=n=>d(mn)())},{default:i((()=>[c("PDF")])),_:1}),a(E,{"is-open":yn.value,"hide-save":"",onWillDismiss:t[3]||(t[3]=n=>yn.value=!1),onDidPresent:t[4]||(t[4]=e=>n.$refs.signatureinput.updateDimensions())},{default:i((()=>[a(M,{onSignature:bn,ref_key:"signatureinput",ref:kn},null,512)])),_:1},8,["is-open"]),a(d(T),null,{default:i((()=>[a(d(g),null,{default:i((()=>[a(d(h),null,{default:i((()=>[c("Druckvorschau")])),_:1})])),_:1}),a(d(p),null,{default:i((()=>[f("div",e,[_,x,f("p",null,[L,c(" "+m(d(pn).company),1)]),f("p",null,[z,c(" "+m(d(pn).startDate)+" "+m(d(pn).endDate?d(pn).endDate:""),1)]),f("p",null,[S,c(" "+m(d(pn).address),1)]),f("p",null,[G,w,c(" "+m(d(pn).jobDescr),1)]),d(pn).supervisors?(u(),k("p",F,[R,c(" "+m(d(pn).supervisors.map((n=>n.name)).join(", ")),1)])):y("",!0),P,f("table",null,[I,(u(!0),k(b,null,v(d(pn).technicians,(n=>{var e,l;return u(),k("tr",null,[f("td",null,m(n.name),1),f("td",null,m(null===(e=n.fisat)||void 0===e?void 0:e.id),1),f("td",null,m(null===(l=n.fisat)||void 0===l?void 0:l.level),1)])})),256))]),f("p",null,[C,f("ul",null,[(u(!0),k(b,null,v(d(pn).equipment,(n=>(u(),k("li",null,m(n.descr),1)))),256))])]),N,(u(!0),k(b,null,v(d(pn).access,(n=>(u(),k(b,null,[f("p",null,[f("strong",null,m(n.title),1)]),n.access?(u(),k("p",O,[U,c(),f("span",{innerHTML:n.access},null,8,B)])):y("",!0),n.exit?(u(),k("p",V,[Z,c(),f("span",{innerHTML:n.exit},null,8,q)])):y("",!0),n.anchorPoints?(u(),k("p",K,[W,c(),f("span",{innerHTML:n.anchorPoints},null,8,$)])):y("",!0),n.comment?(u(),k("p",{key:3,innerHTML:n.comment},null,8,J)):y("",!0)],64)))),256)),Q,(u(!0),k(b,null,v(d(pn).access,(n=>(u(),k(b,null,[f("p",null,[f("strong",null,m(n.title),1)]),f("p",{innerHTML:n.rescue},null,8,X)],64)))),256)),Y,(u(!0),k(b,null,v([d(H).Access,d(H).Environment,d(H).Work],(n=>(u(),k(b,null,[n===d(H).Access?(u(),k("h3",nn,"Gefahren durch die ausgewählten Zugangstechniken")):n===d(H).Environment?(u(),k("h3",en,"Gefahren durch die Arbeitsumgebung")):(u(),k("h3",ln,"Gefahren durch die Arbeit")),f("table",null,[tn,f("tbody",null,[(u(!0),k(b,null,v(d(pn).categories,(e=>(u(),k(b,null,[e.risks.filter((e=>e.risk.sector===n)).length?(u(),k(b,{key:0},[f("tr",null,[f("th",sn,m(e.descr),1)]),(u(!0),k(b,null,v(e.risks.filter((e=>e.risk.sector===n)),(n=>(u(),k("tr",null,[f("td",null,[f("span",un,m(n.risk.factor.descr),1),c(" "+m(n.risk.descr),1)]),f("td",null,[n.measures.length>1?(u(),k("ul",rn,[(u(!0),k(b,null,v(n.measures,(n=>(u(),k("li",null,m(n.descr),1)))),256))])):1===n.measures.length?(u(),k(b,{key:1},[c(m(n.measures[0].descr),1)],64)):y("",!0)])])))),256))],64)):y("",!0)],64)))),256))])])],64)))),256)),d(pn).signature?(u(),k("img",{key:1,src:d(pn).signature.signature},null,8,an)):(u(),k("p",cn,dn)),on,gn,(u(!0),k(b,null,v(d(pn).signatures,(n=>(u(),k("div",null,[f("img",{src:n.signature},null,8,hn)])))),256))])])),_:1})])),_:1})])),_:1}))}}))}}}));
