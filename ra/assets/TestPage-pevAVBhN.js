import{d as h,x as m,o as u,c as B,w as c,a as p,g as f,R as T,f as a,F as w,b as i,s as _,j as C,k as E,t as F}from"./index-xm7OlJwR.js";import{_ as N}from"./TemplateMainPage.vue_vue_type_script_setup_true_lang-k7MVqf55.js";import{u as P}from"./livequery-oK8gD4FI.js";import{d as k,X as A}from"./database-y4SrtzQs.js";const L={class:"ion-padding"},D=h({__name:"TestPage",setup(R){async function v(r){const e=r.table("risks");return await r.table("measures").toArray().then(I=>{var d=[];return I.forEach(l=>{l.solveRisks.forEach(o=>{d.push(e.get(o))})}),A.Promise.all(d).then(l=>l.filter((o,b,g)=>g.findIndex(y=>y.id===o.id)===b))})}const V=P(k,["risks","measures"],v,!0,[]),s=m("id"),n=m("");function x(){k.inputhistory.update(36,{inputId:s.value,text:n.value})}return(r,e)=>(u(),B(N,null,{default:c(()=>[p("div",L,[p("ul",null,[(u(!0),f(w,null,T(a(V),t=>(u(),f("li",null,F(t),1))),256))]),i(a(_),{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=t=>s.value=t)},null,8,["modelValue"]),i(a(_),{modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=t=>n.value=t)},null,8,["modelValue"]),i(a(E),{onClick:x},{default:c(()=>[C("Add")]),_:1})])]),_:1}))}});export{D as default};
