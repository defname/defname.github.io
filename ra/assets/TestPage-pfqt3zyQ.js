import{d as h,x as m,o as u,c as B,w as c,a as p,g as f,Y as T,f as t,F as w,b as i,s as _,j as C,k as E,t as F}from"./index-6YVP06UH.js";import{_ as N}from"./TemplateMainPage.vue_vue_type_script_setup_true_lang-rCc9cXlL.js";import{a as P}from"./livequery-DZoN91kH.js";import{d as k,X as A}from"./database-GtjOZku2.js";const L={class:"ion-padding"},M=h({__name:"TestPage",setup(U){async function v(r){const e=r.table("risks");return await r.table("measures").toArray().then(I=>{var d=[];return I.forEach(l=>{l.solveRisks.forEach(o=>{d.push(e.get(o))})}),A.Promise.all(d).then(l=>l.filter((o,b,g)=>g.findIndex(y=>y.id===o.id)===b))})}const V=P(k,["risks","measures"],v,!0,[]),s=m("id"),n=m("");function x(){k.inputhistory.update(36,{inputId:s.value,text:n.value})}return(r,e)=>(u(),B(N,null,{default:c(()=>[p("div",L,[p("ul",null,[(u(!0),f(w,null,T(t(V),a=>(u(),f("li",null,F(a),1))),256))]),i(t(_),{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=a=>s.value=a)},null,8,["modelValue"]),i(t(_),{modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=a=>n.value=a)},null,8,["modelValue"]),i(t(E),{onClick:x},{default:c(()=>[C("Add")]),_:1})])]),_:1}))}});export{M as default};
