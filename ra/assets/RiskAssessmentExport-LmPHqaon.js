import{d as E,x as H,o as t,c as L,w as p,b as g,j as d,f as l,k,K as M,a as e,t as r,g as s,l as h,R as c,F as u,G as v}from"./index-GiGbSzE5.js";import{u as w,b as x}from"./riskassessment-_DJ9f63x.js";import{S as m}from"./helpers-jin3i-cC.js";import{T as z}from"./TemplateRiskAssessmentPage-yMK-9Szp.js";import"./livequery-94J2AFfx.js";import"./liveriskstree-PCEDwoX-.js";const D={id:"print"},B=e("h1",null,"Einsatzplanung",-1),C=e("p",null," Es wird grundsätzlich nach den geltenden Regeln und Vorschriften der DGUV, dem Arbeitsschutzgesetz, der BetrSichV, den TRBS und der FISAT FSR-SZP gearbeitet. ",-1),G=e("strong",null,"Ausführende Firma:",-1),R=e("strong",null,"Einsatzdatum:",-1),N=e("strong",null,"Einsatzort:",-1),V=e("strong",null,"Durchzuführende Arbeiten:",-1),F=e("br",null,null,-1),I={key:0},j=e("strong",null,"Aufsichtsführende Höhenarbeiter:",-1),P=e("p",null,[e("strong",null,"Höhenarbeiter:")],-1),S=e("thead",null,[e("tr",null,[e("th",null,"Name"),e("th",null,"FISAT-Nr"),e("th",null,"Level")])],-1),$=e("strong",null,"Ausrüstung:",-1),Z=e("h2",null,"Zugangsverfahren",-1),U={key:0},q=e("strong",null,"Einstieg:",-1),K=["innerHTML"],W={key:1},J=e("strong",null,"Ausstieg:",-1),O=["innerHTML"],Q={key:2},X=e("strong",null,"Anschlagpunkte:",-1),Y=["innerHTML"],ee=["innerHTML"],ne=e("h2",null,"Notfall- und Rettungsplan",-1),te=["innerHTML"],se=e("h1",null,"Gefährdungsermittlung",-1),le={key:0},re={key:1},ue={key:2},oe=e("thead",null,[e("tr",null,[e("th",null,"Gefährdung"),e("th",null,"Maßnahme")])],-1),ie={colspan:"2"},de={class:"factor"},ae={key:0},ce=e("h1",null,"Empfangsbestätigung",-1),he=e("p",null," Es wird bestätigt, über Gefahren und Maßnahmen aufgeklärt worden zu sein. ",-1),_e=["src"],ye=E({__name:"RiskAssessmentExport",setup(pe){const b=w(),o=x();H("");function A(f){const a=window.open("","print","");if(!a)return;a.open(),a.document.write('<html>\n    <head>\n        <link rel="stylesheet" href="/ra/print.css" />\n    </head>\n    <body>'.concat(f.outerHTML,"\n    </body>\n    </html>")),a.document.close();const n=a.document.createElement("script");n.setAttribute("src","/ra/print.js"),a.document.head.appendChild(n)}async function y(){A(document.getElementById("print"))}return(f,a)=>(t(),L(z,null,{default:p(()=>[g(l(k),{onClick:a[0]||(a[0]=n=>y())},{default:p(()=>[d("Drucken")]),_:1}),g(l(k),{"router-link":"/riskassessment/"+l(b).id+"/sign"},{default:p(()=>[d("Unterzeichnen")]),_:1},8,["router-link"]),g(l(v),null,{default:p(()=>[g(l(M),null,{default:p(()=>[e("div",D,[B,C,e("p",null,[G,d(" "+r(l(o).company),1)]),e("p",null,[R,d(" "+r(l(o).startDate)+" "+r(l(o).endDate?l(o).endDate:""),1)]),e("p",null,[N,d(" "+r(l(o).address),1)]),e("p",null,[V,F,d(" "+r(l(o).jobDescr),1)]),l(o).supervisors?(t(),s("p",I,[j,d(" "+r(l(o).supervisors.map(n=>n.name).join(", ")),1)])):h("",!0),P,e("table",null,[S,(t(!0),s(u,null,c(l(o).technicians,n=>{var _,i;return t(),s("tr",null,[e("td",null,r(n.name),1),e("td",null,r((_=n.fisat)==null?void 0:_.id),1),e("td",null,r((i=n.fisat)==null?void 0:i.level),1)])}),256))]),e("p",null,[$,e("ul",null,[(t(!0),s(u,null,c(l(o).equipment,n=>(t(),s("li",null,r(n.descr),1))),256))])]),Z,(t(!0),s(u,null,c(l(o).access,n=>(t(),s(u,null,[e("p",null,[e("strong",null,r(n.title),1)]),n.access?(t(),s("p",U,[q,d(),e("span",{innerHTML:n.access},null,8,K)])):h("",!0),n.exit?(t(),s("p",W,[J,d(),e("span",{innerHTML:n.exit},null,8,O)])):h("",!0),n.anchorPoints?(t(),s("p",Q,[X,d(),e("span",{innerHTML:n.anchorPoints},null,8,Y)])):h("",!0),n.comment?(t(),s("p",{key:3,innerHTML:n.comment},null,8,ee)):h("",!0)],64))),256)),ne,(t(!0),s(u,null,c(l(o).access,n=>(t(),s(u,null,[e("p",null,[e("strong",null,r(n.title),1)]),e("p",{innerHTML:n.rescue},null,8,te)],64))),256)),se,(t(!0),s(u,null,c([l(m).Access,l(m).Environment,l(m).Work],n=>(t(),s(u,null,[n===l(m).Access?(t(),s("h3",le,"Gefahren durch die ausgewählten Zugangstechniken")):n===l(m).Environment?(t(),s("h3",re,"Gefahren durch die Arbeitsumgebung")):(t(),s("h3",ue,"Gefahren durch die Arbeit")),e("table",null,[oe,e("tbody",null,[(t(!0),s(u,null,c(l(o).categories,_=>(t(),s(u,null,[_.risks.filter(i=>i.risk.sector===n).length?(t(),s(u,{key:0},[e("tr",null,[e("th",ie,r(_.descr),1)]),(t(!0),s(u,null,c(_.risks.filter(i=>i.risk.sector===n),i=>(t(),s("tr",null,[e("td",null,[e("span",de,r(i.risk.factor.descr),1),d(" "+r(i.risk.descr),1)]),e("td",null,[i.measures.length>1?(t(),s("ul",ae,[(t(!0),s(u,null,c(i.measures,T=>(t(),s("li",null,r(T.descr),1))),256))])):i.measures.length===1?(t(),s(u,{key:1},[d(r(i.measures[0].descr),1)],64)):h("",!0)])]))),256))],64)):h("",!0)],64))),256))])])],64))),256)),ce,he,(t(!0),s(u,null,c(l(o).signatures,n=>(t(),s("div",null,[e("img",{src:n.signature},null,8,_e)]))),256))])]),_:1})]),_:1})]),_:1}))}});export{ye as default};
