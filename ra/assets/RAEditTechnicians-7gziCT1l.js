import{d as y,e as I,G as V,u as c,o,c as d,w as a,b as l,f as e,ab as f,i as m,j as u,ac as j,t as p,ad as v,l as b,r as B,g as C,m as h,n as A,p as R,q as S,F as q}from"./index-nnix3es0.js";import{_ as g}from"./TechniciansList.vue_vue_type_script_setup_true_lang-PlwRy3bt.js";import{u as w}from"./riskassessment-jxzjjxKL.js";import{l as _}from"./livequery-cPqtMxws.js";import{T as x}from"./TemplateRiskAssessmentPage-poJLLxwP.js";import"./GenericList.vue_vue_type_script_setup_true_lang-AQzb8lD9.js";import"./helpers-r1e3qvNS.js";import"./liveriskstree-KOA9bcnr.js";const P=y({__name:"RAEditTechnicians",setup(F){const s=w(),k=I(()=>_.table("technicians").isReady().value?s.technicians.map(i=>_.table("technicians").get(i)):[]),r=V("selected");["selected","available"].includes(c().query.segment)&&(r.value=c().query.segment);function T(i){}return(i,n)=>(o(),d(x,null,{default:a(()=>[l(e(j),{value:r.value,onIonChange:n[0]||(n[0]=t=>{r.value=t.detail.value,i.$router.replace({query:{segment:t.detail.value}})})},{default:a(()=>[l(e(f),{value:"selected"},{default:a(()=>[l(e(m),null,{default:a(()=>[u("Ausgewählt")]),_:1})]),_:1}),l(e(f),{value:"available"},{default:a(()=>[l(e(m),null,{default:a(()=>[u("Verfügbar")]),_:1})]),_:1})]),_:1},8,["value"]),r.value==="selected"?(o(),d(g,{key:0,entries:k.value,modelValue:e(s).technicians,"onUpdate:modelValue":n[1]||(n[1]=t=>e(s).technicians=t),inverted:"","forbid-deletion":""},{default:a(t=>[l(e(B),null,{default:a(()=>[l(e(m),null,{default:a(()=>[u(p(t.object.name),1)]),_:2},1024),t.object.fisat?(o(),d(e(v),{key:0,slot:"end",color:t.object.fisat.level===3?"tertiary":"medium",onClick:N=>(t.object,void 0)},{default:a(()=>[u(" Level "+p(t.object.fisat.level),1)]),_:2},1032,["color","onClick"])):b("",!0),e(s).supervisors.includes(t.object.id)?(o(),d(e(v),{key:1,slot:"start"},{default:a(()=>[u("Supervisor")]),_:1})):b("",!0)]),_:2},1024)]),_:1},8,["entries","modelValue"])):(o(),C(q,{key:1},[l(e(S),{slot:"fixed",vertical:"bottom",horizontal:"end"},{default:a(()=>[l(e(h),{"router-link":"/technicians/new"},{default:a(()=>[l(e(A),{icon:e(R)},null,8,["icon"])]),_:1})]),_:1}),l(g,{modelValue:e(s).technicians,"onUpdate:modelValue":n[2]||(n[2]=t=>e(s).technicians=t)},null,8,["modelValue"])],64))]),_:1}))}});export{P as default};
