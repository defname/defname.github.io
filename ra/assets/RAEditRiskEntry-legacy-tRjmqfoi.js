System.register(["./index-legacy-oFp8G8Ab.js","./riskassessment-legacy-6zytJ6aS.js","./liveriskstree-legacy-bYbQc470.js","./livequery-legacy-5AwHvNjI.js","./MeasureCatalog.vue_vue_type_script_setup_true_lang-legacy-giZSI2vK.js","./AddedByList.vue_vue_type_script_setup_true_lang-legacy-GEt7-vm5.js","./TemplateRiskAssessmentPage-legacy-JM9IAklm.js","./database-legacy-al1Sa8N6.js","./GenericList.vue_vue_type_script_setup_true_lang-legacy-DvdzpM7C.js","./helpers-legacy-AWkUcU2B.js"],(function(e,l){"use strict";var a,t,u,s,n,r,d,i,o,_,c,g,m,f,y,v,p,k,b,j,R,V,M,h,A,x,q,w,B,E,I,K,T,U;return{setters:[e=>{a=e.d,t=e.u,u=e.e,s=e.x,n=e.o,r=e.c,d=e.w,i=e.f,o=e.g,_=e.q,c=e.b,g=e.n,m=e.p,f=e.m,y=e.l,v=e.H,p=e.T,k=e.i,b=e.j,j=e.t,R=e.J,V=e.av,M=e.K,h=e.E,A=e.G,x=e.aq,q=e.ap,w=e.F},e=>{B=e.u},e=>{E=e.l},e=>{I=e.l},e=>{K=e._},e=>{T=e._},e=>{U=e.T},null,null,null],execute:function(){e("default",a({__name:"RAEditRiskEntry",setup(e){const l=B(),a=I.table("measures"),z=parseInt(t().params.riskId),C=E.getAsRef(z),G=u((()=>{if(!a.isReady().value)return[];l.getMeasures(z).map((e=>a.get(e)))}));I.table("measures").updated();const J=u((()=>void 0!==C.value&&I.table("measures").isReady()?I.table("measures").entries().filter((e=>e.solveRisks.includes(C.value.id))):[])),L=s("selected");return(e,t)=>(n(),r(U,null,{default:d((()=>[i(C)&&i(l).isReady&&i(a).isReady()?(n(),o(w,{key:0},["selected"!==L.value?(n(),r(i(_),{key:0,slot:"fixed",vertical:"bottom",horizontal:"end"},{default:d((()=>[c(i(f),{"router-link":`/measures/new?for=${i(C).id}`},{default:d((()=>[c(i(g),{icon:i(m)},null,8,["icon"])])),_:1},8,["router-link"])])),_:1})):y("",!0),c(i(A),null,{default:d((()=>[c(i(v),null,{default:d((()=>[c(i(p),null,{default:d((()=>[c(i(k),{position:"stacked"},{default:d((()=>[b(j(i(C).factor.category.descr)+" ➤ "+j(i(C).factor.descr),1)])),_:1})])),_:1}),c(i(R),null,{default:d((()=>[b(j(i(C).descr),1)])),_:1}),i(l).getMeta(i(z)).addedBy.length>0?(n(),r(i(V),{key:0},{default:d((()=>[c(T,{"trigger-list":i(l).getMeta(i(z)).addedBy},null,8,["trigger-list"])])),_:1})):y("",!0)])),_:1}),c(i(M),null,{default:d((()=>[c(i(h),{label:"Kommentar","auto-grow":"","label-placement":"floating",modelValue:i(l).getMeta(i(z)).comment,"onUpdate:modelValue":t[0]||(t[0]=e=>i(l).getMeta(i(z)).comment=e)},null,8,["modelValue"])])),_:1})])),_:1}),c(i(A),null,{default:d((()=>[c(i(v),null,{default:d((()=>[c(i(R),null,{default:d((()=>[b("Maßnahmen")])),_:1})])),_:1}),c(i(M),null,{default:d((()=>[c(i(x),{value:L.value,onIonChange:t[1]||(t[1]=l=>{L.value=l.detail.value,e.$router.replace({query:{segment:l.detail.value}})})},{default:d((()=>[c(i(q),{value:"selected"},{default:d((()=>[c(i(k),null,{default:d((()=>[b("Ausgewählt")])),_:1})])),_:1}),c(i(q),{value:"available"},{default:d((()=>[c(i(k),null,{default:d((()=>[b("Verfügbar")])),_:1})])),_:1})])),_:1},8,["value"]),"selected"===L.value?(n(),r(K,{key:0,modelValue:i(l).measures[i(z)],"onUpdate:modelValue":t[2]||(t[2]=e=>i(l).measures[i(z)]=e),entries:G.value,inverted:""},null,8,["modelValue","entries"])):(n(),r(K,{key:1,modelValue:i(l).measures[i(z)],"onUpdate:modelValue":t[3]||(t[3]=e=>i(l).measures[i(z)]=e),entries:J.value},null,8,["modelValue","entries"]))])),_:1})])),_:1})],64)):y("",!0)])),_:1}))}}))}}}));
