import{d,u as f,e as p,o as n,c,w as t,f as e,g as k,b as s,I as _,h as v,i as b,j as l,k as g,F as I,l as R}from"./index-xm7OlJwR.js";import{l as h}from"./liveriskstree-OUGTu9yV.js";import{l as i}from"./livequery-oK8gD4FI.js";import{_ as B}from"./MeasureCatalog.vue_vue_type_script_setup_true_lang-vnx2Dfi5.js";import{R as y}from"./RiskListItem-Qzc8vzye.js";import{T as C}from"./TemplateGenericEditPage-Puml1i88.js";import"./database-y4SrtzQs.js";import"./GenericList.vue_vue_type_script_setup_true_lang-iSo5lPJ3.js";import"./helpers-IDuM_-et.js";const P=d({__name:"RiskDetailsPage",setup(L){const u=parseInt(f().params.id),a=h.getAsRef(u);i.table("measures").updated();const m=p(()=>a.value===void 0||!i.table("measures").isReady()?[]:i.table("measures").entries().filter(r=>r.solveRisks.includes(a.value.id)));return(r,o)=>(n(),c(C,{onShouldCancel:o[0]||(o[0]=T=>r.$router.back()),"hide-submit":""},{default:t(()=>[e(a)?(n(),k(I,{key:0},[s(e(_),{inset:""},{default:t(()=>[s(y,{risk:e(a)},null,8,["risk"])]),_:1}),s(B,{inset:"",entries:m.value},{header:t(()=>[s(e(v),null,{default:t(()=>[s(e(b),null,{default:t(()=>[l("Verfügbare Maßnahmen")]),_:1}),s(e(g),{"router-link":"/measures/new?for=".concat(e(a).id)},{default:t(()=>[l("Hinzufügen")]),_:1},8,["router-link"])]),_:1})]),_:1},8,["entries"])],64)):R("",!0)]),_:1}))}});export{P as default};
