System.register(["./index-legacy-UOC7AYk0.js","./helpers-legacy-PpkNb9at.js"],(function(e,l){"use strict";var t,n,i,o,d,a,u,s,c,r,f,m,v,p,y,g,_,k,V,h,b,w,F,S,D,I,x;return{setters:[e=>{t=e.d,n=e.ar,i=e.aI,o=e.e,d=e.G,a=e.o,u=e.c,s=e.w,c=e.ae,r=e.g,f=e.a2,m=e.F,v=e.f,p=e.I,y=e.as,g=e.r,_=e.i,k=e.t,V=e.j,h=e.b,b=e.at,w=e.au,F=e.n,S=e.l,D=e.af},e=>{I=e.a,x=e.p}],execute:function(){e("_",t({__name:"GenericList",props:{entries:{type:Array,required:!0,readonly:!0},deleteFunction:Function,filter:{type:Function,default:()=>!0},setup:{type:Function,default:e=>e},messageDeleteSuccess:{type:String,default:"Löschen erfolgreich"},messagReallyDelete:{type:Function,default:()=>"Wirklich löschen?"},iconAdd:{type:String,default:n},iconRemove:{type:String,default:i},modelValue:{type:Array,default:void 0},inverted:Boolean,forbidEditing:Boolean,forbidDeletion:Boolean},emits:["update:modelValue"],setup(e,{expose:l,emit:t}){const n=e,i=t,C=o((()=>n.entries.filter((e=>n.filter(e))).map((e=>n.setup(e))))),A=d(null);l({editId:d(void 0)});const L=o((()=>void 0===n.modelValue?C.value:C.value.filter((e=>{var l;return(null===(l=n.modelValue)||void 0===l?void 0:l.includes(e.id))===n.inverted}))));async function j(e){if(void 0===e.id)return;const l={text:"Löschen",role:"destructive",icon:D,handler:(t=e.id,()=>{!async function(e){void 0!==n.deleteFunction?n.deleteFunction(e).then((()=>{void 0!==n.modelValue&&i("update:modelValue",n.modelValue.filter((l=>l!==e))),x(n.messageDeleteSuccess,"success")})).catch((e=>(console.log(e),e))):console.warn("Delete function was called but is undefined")}(t)})};var t;null!==A.value&&A.value.$el.closeSlidingItems(),await I(n.messagReallyDelete(e),l)}function R(e){void 0!==n.modelValue&&(n.inverted?i("update:modelValue",n.modelValue.filter((l=>l!==e))):i("update:modelValue",[...n.modelValue,e]))}return(l,t)=>(a(),u(v(p),{ref_key:"slidingList",ref:A},{default:s((()=>[c(l.$slots,"header"),(a(!0),r(m,null,f(L.value,((t,n)=>(a(),u(v(y),{key:t.id,ref_for:!0,ref:"slidingItem"},{default:s((()=>[c(l.$slots,"default",{object:t},(()=>[h(v(g),null,{default:s((()=>[h(v(_),null,{default:s((()=>[V(k(t),1)])),_:2},1024)])),_:2},1024)])),e.forbidEditing||void 0===e.modelValue?S("",!0):(a(),u(v(b),{key:0,side:"start",onIonSwipe:e=>R(t.id)},{default:s((()=>[e.inverted?(a(),u(v(w),{key:1,color:"warning",onClick:e=>R(t.id),expandable:""},{default:s((()=>[h(v(F),{icon:e.iconRemove,slot:"start"},null,8,["icon"]),V(" Enfernen ")])),_:2},1032,["onClick"])):(a(),u(v(w),{key:0,color:"success",onClick:e=>R(t.id),expandable:""},{default:s((()=>[h(v(F),{icon:e.iconAdd,slot:"start"},null,8,["icon"]),V(" Auswählen ")])),_:2},1032,["onClick"]))])),_:2},1032,["onIonSwipe"])),e.forbidDeletion||void 0===e.deleteFunction?S("",!0):(a(),u(v(b),{key:1,side:"end"},{default:s((()=>[h(v(w),{color:"danger",onClick:e=>j(t)},{default:s((()=>[h(v(F),{icon:v(D),slot:"end"},null,8,["icon"]),V(" Löschen ")])),_:2},1032,["onClick"])])),_:2},1024))])),_:2},1024)))),128))])),_:3},512))}}))}}}));
