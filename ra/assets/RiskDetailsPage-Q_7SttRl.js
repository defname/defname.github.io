import{d,u as f,b as p,o,c,w as a,e,f as k,a as s,I as _,g as v,h as b,i as u,j as g,F as I,k as R}from"./index-pK9Jxw9y.js";import{l as h}from"./liveriskstree-HKGbfupc.js";import{l as i}from"./livequery-xJJKFniU.js";import{_ as B}from"./MeasureCatalog.vue_vue_type_script_setup_true_lang-CoDlZMsA.js";import{R as y}from"./RiskListItem-jqq0QLj8.js";import{T as C}from"./TemplateGenericEditPage-rtNOckVj.js";import"./helpers-_vyyZU2O.js";import"./GenericList.vue_vue_type_script_setup_true_lang-yMOk-ZyN.js";const M=d({__name:"RiskDetailsPage",setup(L){const l=parseInt(f().params.id),t=h.getAsRef(l);i.table("measures").updated();const m=p(()=>t.value===void 0||!i.table("measures").isReady()?[]:i.table("measures").entries().filter(r=>r.solveRisks.includes(t.value.id)));return(r,n)=>(o(),c(C,{onShouldCancel:n[0]||(n[0]=T=>r.$router.back()),"hide-submit":""},{default:a(()=>[e(t)?(o(),k(I,{key:0},[s(e(_),{inset:""},{default:a(()=>[s(y,{risk:e(t)},null,8,["risk"])]),_:1}),s(B,{inset:"",entries:m.value},{header:a(()=>[s(e(v),null,{default:a(()=>[s(e(b),null,{default:a(()=>[u("Verfügbare Maßnahmen")]),_:1}),s(e(g),{"router-link":"/measures/new?for=".concat(e(t).id)},{default:a(()=>[u("Hinzufügen")]),_:1},8,["router-link"])]),_:1})]),_:1},8,["entries"])],64)):R("",!0)]),_:1}))}});export{M as default};
