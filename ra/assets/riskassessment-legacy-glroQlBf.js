!function(){function e(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function t(e,t,u){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return u}function u(e,t,u){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var u=e[Symbol.toPrimitive];if(void 0!==u){var s=u.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:String(s))in e?Object.defineProperty(e,t,{value:u,enumerable:!0,configurable:!0,writable:!0}):e[t]=u,e}System.register(["./helpers-legacy-MUCFszsT.js","./livequery-legacy-SEa9o6do.js","./index-legacy-AQwVFCxC.js","./liveriskstree-legacy-qzT4Wk_q.js"],(function(s,n){"use strict";var i,r,l,o,a,c,h,p,A,d,k,g,E;return{setters:[e=>{i=e.m,r=e.b,l=e.c,o=e.e,a=e.d,c=e.S},e=>{h=e.l},e=>{p=e.Z,A=e.G,d=e.u,k=e.$,g=e.ai},e=>{E=e.l}],execute:function(){function n(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}s({a:function(e){const t=Te(e),u=A([]),s=()=>{console.log("useLiveAllRisks(): updateAllRisks()"),t.calcAllRisks().then((e=>{u.value=e,console.log("useLiveAllRisks(): updateAllRisks() -> Done")}))};return k([()=>t.risks,()=>t.isReady],s),g((()=>{s()})),u},b:function(e){const t=Te(e);h.table("equipment");const u=p({risks:[]});return async function(){u.sector={},await t.ready,await E.ready();const e=await h.table("measures");await t.calcAllRisks(),u.risks=t.allRisks.map((u=>({risk:E.get(u),measures:t.measures[u].map((t=>e.get(t))),meta:t.getMeta(u)}))),u.sector.access=u.risks.filter((e=>e.risk.sector===c.Access)),u.sector.environment=u.risks.filter((e=>e.risk.sector===c.Environment)),u.sector.work=u.risks.filter((e=>e.risk.sector===c.Work))}(),t.ready.then((()=>{h.table("technicians").ready().then((e=>{u.technicians=t.technicians.map((t=>e.get(t))),u.supervisors=t.supervisors.map((t=>e.get(t)))})),h.table("equipment").ready().then((e=>{u.equipment=t.equipment.map((t=>e.get(t)))})),u.access=t.access.map((e=>{const t={};t.id=e.id,t.title=e.title;for(let u in e)"id"!==u&&"title"!==u&&(t[u]=ve.parse(e[u]));return t})),u.company=t.company,u.address=t.address,u.startDate=t.startDate,u.endDate=t.endDate,u.jobDescr=t.jobDescr})),u},u:Te});let f={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function D(e){f=e}const F=/[&<>"']/,x=new RegExp(F.source,"g"),B=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,m=new RegExp(B.source,"g"),C={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},b=e=>C[e];function w(e,t){if(t){if(F.test(e))return e.replace(x,b)}else if(B.test(e))return e.replace(m,b);return e}const y=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function $(e){return e.replace(y,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const v=/(^|[^\[])\^/g;function z(e,t){let u="string"==typeof e?e:e.source;t=t||"";const s={replace:(e,t)=>{let n="string"==typeof t?t:t.source;return n=n.replace(v,"$1"),u=u.replace(e,n),s},getRegex:()=>new RegExp(u,t)};return s}function R(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch(t){return null}return e}const T={exec:()=>null};function _(e,t){const u=e.replace(/\|/g,((e,t,u)=>{let s=!1,n=t;for(;--n>=0&&"\\"===u[n];)s=!s;return s?"|":" |"})).split(/ \|/);let s=0;if(u[0].trim()||u.shift(),u.length>0&&!u[u.length-1].trim()&&u.pop(),t)if(u.length>t)u.splice(t);else for(;u.length<t;)u.push("");for(;s<u.length;s++)u[s]=u[s].trim().replace(/\\\|/g,"|");return u}function S(e,t,u){const s=e.length;if(0===s)return"";let n=0;for(;n<s;){const i=e.charAt(s-n-1);if(i!==t||u){if(i===t||!u)break;n++}else n++}return e.slice(0,s-n)}function I(e,t,u,s){const n=t.href,i=t.title?w(t.title):null,r=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){s.state.inLink=!0;const e={type:"link",raw:u,href:n,title:i,text:r,tokens:s.inlineTokens(r)};return s.state.inLink=!1,e}return{type:"image",raw:u,href:n,title:i,text:w(r)}}class q{constructor(e){u(this,"options",void 0),u(this,"rules",void 0),u(this,"lexer",void 0),this.options=e||f}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:S(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],u=function(e,t){const u=e.match(/^(\s+)(?:```)/);if(null===u)return t;const s=u[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[u]=t;return u.length>=s.length?e.slice(s.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:u}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=S(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=S(t[0].replace(/^ *>[ \t]?/gm,""),"\n"),u=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(e);return this.lexer.state.top=u,{type:"blockquote",raw:t[0],tokens:s,text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let u=t[1].trim();const s=u.length>1,n={type:"list",raw:"",ordered:s,start:s?+u.slice(0,-1):"",loose:!1,items:[]};u=s?`\\d{1,9}\\${u.slice(-1)}`:`\\${u}`,this.options.pedantic&&(u=s?u:"[*+-]");const i=new RegExp(`^( {0,3}${u})((?:[\t ][^\\n]*)?(?:\\n|$))`);let r="",l="",o=!1;for(;e;){let u=!1;if(!(t=i.exec(e)))break;if(this.rules.block.hr.test(e))break;r=t[0],e=e.substring(r.length);let s=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),a=e.split("\n",1)[0],c=0;this.options.pedantic?(c=2,l=s.trimStart()):(c=t[2].search(/[^ ]/),c=c>4?1:c,l=s.slice(c),c+=t[1].length);let h=!1;if(!s&&/^ *$/.test(a)&&(r+=a+"\n",e=e.substring(a.length+1),u=!0),!u){const t=new RegExp(`^ {0,${Math.min(3,c-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),u=new RegExp(`^ {0,${Math.min(3,c-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),n=new RegExp(`^ {0,${Math.min(3,c-1)}}(?:\`\`\`|~~~)`),i=new RegExp(`^ {0,${Math.min(3,c-1)}}#`);for(;e;){const o=e.split("\n",1)[0];if(a=o,this.options.pedantic&&(a=a.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),n.test(a))break;if(i.test(a))break;if(t.test(a))break;if(u.test(e))break;if(a.search(/[^ ]/)>=c||!a.trim())l+="\n"+a.slice(c);else{if(h)break;if(s.search(/[^ ]/)>=4)break;if(n.test(s))break;if(i.test(s))break;if(u.test(s))break;l+="\n"+a}h||a.trim()||(h=!0),r+=o+"\n",e=e.substring(o.length+1),s=a.slice(c)}}n.loose||(o?n.loose=!0:/\n *\n *$/.test(r)&&(o=!0));let p,A=null;this.options.gfm&&(A=/^\[[ xX]\] /.exec(l),A&&(p="[ ] "!==A[0],l=l.replace(/^\[[ xX]\] +/,""))),n.items.push({type:"list_item",raw:r,task:!!A,checked:p,loose:!1,text:l,tokens:[]}),n.raw+=r}n.items[n.items.length-1].raw=r.trimEnd(),n.items[n.items.length-1].text=l.trimEnd(),n.raw=n.raw.trimEnd();for(let e=0;e<n.items.length;e++)if(this.lexer.state.top=!1,n.items[e].tokens=this.lexer.blockTokens(n.items[e].text,[]),!n.loose){const t=n.items[e].tokens.filter((e=>"space"===e.type)),u=t.length>0&&t.some((e=>/\n.*\n/.test(e.raw)));n.loose=u}if(n.loose)for(let e=0;e<n.items.length;e++)n.items[e].loose=!0;return n}}html(e){const t=this.rules.block.html.exec(e);if(t){return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),u=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:u,title:s}}}table(e){const t=this.rules.block.table.exec(e);if(!t)return;if(!/[:|]/.test(t[2]))return;const u=_(t[1]),s=t[2].replace(/^\||\| *$/g,"").split("|"),n=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[],i={type:"table",raw:t[0],header:[],align:[],rows:[]};if(u.length===s.length){for(const e of s)/^ *-+: *$/.test(e)?i.align.push("right"):/^ *:-+: *$/.test(e)?i.align.push("center"):/^ *:-+ *$/.test(e)?i.align.push("left"):i.align.push(null);for(const e of u)i.header.push({text:e,tokens:this.lexer.inline(e)});for(const e of n)i.rows.push(_(e,i.header.length).map((e=>({text:e,tokens:this.lexer.inline(e)}))));return i}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:w(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=S(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let u=0;for(let s=0;s<e.length;s++)if("\\"===e[s])s++;else if(e[s]===t[0])u++;else if(e[s]===t[1]&&(u--,u<0))return s;return-1}(t[2],"()");if(e>-1){const u=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,u).trim(),t[3]=""}}let u=t[2],s="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(u);e&&(u=e[1],s=e[3])}else s=t[3]?t[3].slice(1,-1):"";return u=u.trim(),/^</.test(u)&&(u=this.options.pedantic&&!/>$/.test(e)?u.slice(1):u.slice(1,-1)),I(t,{href:u?u.replace(this.rules.inline.anyPunctuation,"$1"):u,title:s?s.replace(this.rules.inline.anyPunctuation,"$1"):s},t[0],this.lexer)}}reflink(e,t){let u;if((u=this.rules.inline.reflink.exec(e))||(u=this.rules.inline.nolink.exec(e))){const e=t[(u[2]||u[1]).replace(/\s+/g," ").toLowerCase()];if(!e){const e=u[0].charAt(0);return{type:"text",raw:e,text:e}}return I(u,e,u[0],this.lexer)}}emStrong(e,t,u=""){let s=this.rules.inline.emStrongLDelim.exec(e);if(!s)return;if(s[3]&&u.match(/[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10107}-\u{10133}\u{10140}-\u{10178}\u{1018A}\u{1018B}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{102E1}-\u{102FB}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{10375}\u{10380}-\u{1039D}\u{103A0}-\u{103C3}\u{103C8}-\u{103CF}\u{103D1}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{10570}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10858}-\u{10876}\u{10879}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A60}-\u{10A7E}\u{10A80}-\u{10A9F}\u{10AC0}-\u{10AC7}\u{10AC9}-\u{10AE4}\u{10AEB}-\u{10AEF}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}\u{10E80}-\u{10EA9}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F54}\u{10F70}-\u{10F81}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{11003}-\u{11037}\u{11052}-\u{1106F}\u{11071}\u{11072}\u{11075}\u{11083}-\u{110AF}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11103}-\u{11126}\u{11136}-\u{1113F}\u{11144}\u{11147}\u{11150}-\u{11172}\u{11176}\u{11183}-\u{111B2}\u{111C1}-\u{111C4}\u{111D0}-\u{111DA}\u{111DC}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{1122B}\u{1123F}\u{11240}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A8}\u{112B0}-\u{112DE}\u{112F0}-\u{112F9}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133D}\u{11350}\u{1135D}-\u{11361}\u{11400}-\u{11434}\u{11447}-\u{1144A}\u{11450}-\u{11459}\u{1145F}-\u{11461}\u{11480}-\u{114AF}\u{114C4}\u{114C5}\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115AE}\u{115D8}-\u{115DB}\u{11600}-\u{1162F}\u{11644}\u{11650}-\u{11659}\u{11680}-\u{116AA}\u{116B8}\u{116C0}-\u{116C9}\u{11700}-\u{1171A}\u{11730}-\u{1173B}\u{11740}-\u{11746}\u{11800}-\u{1182B}\u{118A0}-\u{118F2}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{1192F}\u{1193F}\u{11941}\u{11950}-\u{11959}\u{119A0}-\u{119A7}\u{119AA}-\u{119D0}\u{119E1}\u{119E3}\u{11A00}\u{11A0B}-\u{11A32}\u{11A3A}\u{11A50}\u{11A5C}-\u{11A89}\u{11A9D}\u{11AB0}-\u{11AF8}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C2E}\u{11C40}\u{11C50}-\u{11C6C}\u{11C72}-\u{11C8F}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D30}\u{11D46}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D89}\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF2}\u{11F02}\u{11F04}-\u{11F10}\u{11F12}-\u{11F33}\u{11F50}-\u{11F59}\u{11FB0}\u{11FC0}-\u{11FD4}\u{12000}-\u{12399}\u{12400}-\u{1246E}\u{12480}-\u{12543}\u{12F90}-\u{12FF0}\u{13000}-\u{1342F}\u{13441}-\u{13446}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A70}-\u{16ABE}\u{16AC0}-\u{16AC9}\u{16AD0}-\u{16AED}\u{16B00}-\u{16B2F}\u{16B40}-\u{16B43}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E96}\u{16F00}-\u{16F4A}\u{16F50}\u{16F93}-\u{16F9F}\u{16FE0}\u{16FE1}\u{16FE3}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18D00}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B132}\u{1B150}-\u{1B152}\u{1B155}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1D2C0}-\u{1D2D3}\u{1D2E0}-\u{1D2F3}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D6C0}\u{1D6C2}-\u{1D6DA}\u{1D6DC}-\u{1D6FA}\u{1D6FC}-\u{1D714}\u{1D716}-\u{1D734}\u{1D736}-\u{1D74E}\u{1D750}-\u{1D76E}\u{1D770}-\u{1D788}\u{1D78A}-\u{1D7A8}\u{1D7AA}-\u{1D7C2}\u{1D7C4}-\u{1D7CB}\u{1D7CE}-\u{1D7FF}\u{1DF00}-\u{1DF1E}\u{1DF25}-\u{1DF2A}\u{1E030}-\u{1E06D}\u{1E100}-\u{1E12C}\u{1E137}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E290}-\u{1E2AD}\u{1E2C0}-\u{1E2EB}\u{1E2F0}-\u{1E2F9}\u{1E4D0}-\u{1E4EB}\u{1E4F0}-\u{1E4F9}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1EC71}-\u{1ECAB}\u{1ECAD}-\u{1ECAF}\u{1ECB1}-\u{1ECB4}\u{1ED01}-\u{1ED2D}\u{1ED2F}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}\u{1F100}-\u{1F10C}\u{1FBF0}-\u{1FBF9}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B739}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2EBF0}-\u{2EE5D}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{31350}-\u{323AF}]/u))return;if(!(s[1]||s[2]||"")||!u||this.rules.inline.punctuation.exec(u)){const u=[...s[0]].length-1;let n,i,r=u,l=0;const o="*"===s[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(o.lastIndex=0,t=t.slice(-1*e.length+u);null!=(s=o.exec(t));){if(n=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!n)continue;if(i=[...n].length,s[3]||s[4]){r+=i;continue}if((s[5]||s[6])&&u%3&&!((u+i)%3)){l+=i;continue}if(r-=i,r>0)continue;i=Math.min(i,i+r+l);const t=[...s[0]][0].length,o=e.slice(0,u+s.index+t+i);if(Math.min(u,i)%2){const e=o.slice(1,-1);return{type:"em",raw:o,text:e,tokens:this.lexer.inlineTokens(e)}}const a=o.slice(2,-2);return{type:"strong",raw:o,text:a,tokens:this.lexer.inlineTokens(a)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const u=/[^ ]/.test(e),s=/^ /.test(e)&&/ $/.test(e);return u&&s&&(e=e.substring(1,e.length-1)),e=w(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let e,u;return"@"===t[2]?(e=w(t[1]),u="mailto:"+e):(e=w(t[1]),u=e),{type:"link",raw:t[0],text:e,href:u,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,n;if("@"===t[2])e=w(t[0]),n="mailto:"+e;else{let i;do{var u,s;i=t[0],t[0]=null!==(u=null===(s=this.rules.inline._backpedal.exec(t[0]))||void 0===s?void 0:s[0])&&void 0!==u?u:""}while(i!==t[0]);e=w(t[0]),n="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let e;return e=this.lexer.state.inRawBlock?t[0]:w(t[0]),{type:"text",raw:t[0],text:e}}}}const Z=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,P=/(?:[*+-]|\d{1,9}[.)])/,M=z(/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,P).getRegex(),L=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,j=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Q=z(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",j).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),O=z(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,P).getRegex(),U="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",H=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,W=z("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",H).replace("tag",U).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),X=z(L).replace("hr",Z).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",U).getRegex(),N={blockquote:z(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",X).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:Q,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:Z,html:W,lheading:M,list:O,newline:/^(?: *(?:\n|$))+/,paragraph:X,table:T,text:/^[^\n]+/},G=z("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Z).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",U).getRegex(),Y={...N,table:G,paragraph:z(L).replace("hr",Z).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",G).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",U).getRegex()},J={...N,html:z("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",H).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:T,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:z(L).replace("hr",Z).replace("heading"," *#{1,6} *[^\n]").replace("lheading",M).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},K=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,V=/^( {2,}|\\)\n(?!\s*$)/,ee="\\p{P}$+<=>`^|~",te=z(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,ee).getRegex(),ue=z(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,ee).getRegex(),se=z("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,ee).getRegex(),ne=z("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,ee).getRegex(),ie=z(/\\([punct])/,"gu").replace(/punct/g,ee).getRegex(),re=z(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),le=z(H).replace("(?:--\x3e|$)","--\x3e").getRegex(),oe=z("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",le).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ae=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ce=z(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",ae).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),he=z(/^!?\[(label)\]\[(ref)\]/).replace("label",ae).replace("ref",j).getRegex(),pe=z(/^!?\[(ref)\](?:\[\])?/).replace("ref",j).getRegex(),Ae={_backpedal:T,anyPunctuation:ie,autolink:re,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:V,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:T,emStrongLDelim:ue,emStrongRDelimAst:se,emStrongRDelimUnd:ne,escape:K,link:ce,nolink:pe,punctuation:te,reflink:he,reflinkSearch:z("reflink|nolink(?!\\()","g").replace("reflink",he).replace("nolink",pe).getRegex(),tag:oe,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:T},de={...Ae,link:z(/^!?\[(label)\]\((.*?)\)/).replace("label",ae).getRegex(),reflink:z(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ae).getRegex()},ke={...Ae,escape:z(K).replace("])","~|])").getRegex(),url:z(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},ge={...ke,br:z(V).replace("{2,}","*").getRegex(),text:z(ke.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Ee={normal:N,gfm:Y,pedantic:J},fe={normal:Ae,gfm:ke,breaks:ge,pedantic:de};class De{constructor(e){u(this,"tokens",void 0),u(this,"options",void 0),u(this,"state",void 0),u(this,"tokenizer",void 0),u(this,"inlineQueue",void 0),this.tokens=[],this.tokens.links=Object.create(null),this.options=e||f,this.options.tokenizer=this.options.tokenizer||new q,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Ee.normal,inline:fe.normal};this.options.pedantic?(t.block=Ee.pedantic,t.inline=fe.pedantic):this.options.gfm&&(t.block=Ee.gfm,this.options.breaks?t.inline=fe.breaks:t.inline=fe.gfm),this.tokenizer.rules=t}static get rules(){return{block:Ee,inline:fe}}static lex(e,t){return new De(t).lex(e)}static lexInline(e,t){return new De(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const e=this.inlineQueue[t];this.inlineTokens(e.src,e.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[]){let u,s,n,i;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,u)=>t+"    ".repeat(u.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((s=>!!(u=s.call({lexer:this},e,t))&&(e=e.substring(u.raw.length),t.push(u),!0)))))if(u=this.tokenizer.space(e))e=e.substring(u.raw.length),1===u.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(u);else if(u=this.tokenizer.code(e))e=e.substring(u.raw.length),s=t[t.length-1],!s||"paragraph"!==s.type&&"text"!==s.type?t.push(u):(s.raw+="\n"+u.raw,s.text+="\n"+u.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text);else if(u=this.tokenizer.fences(e))e=e.substring(u.raw.length),t.push(u);else if(u=this.tokenizer.heading(e))e=e.substring(u.raw.length),t.push(u);else if(u=this.tokenizer.hr(e))e=e.substring(u.raw.length),t.push(u);else if(u=this.tokenizer.blockquote(e))e=e.substring(u.raw.length),t.push(u);else if(u=this.tokenizer.list(e))e=e.substring(u.raw.length),t.push(u);else if(u=this.tokenizer.html(e))e=e.substring(u.raw.length),t.push(u);else if(u=this.tokenizer.def(e))e=e.substring(u.raw.length),s=t[t.length-1],!s||"paragraph"!==s.type&&"text"!==s.type?this.tokens.links[u.tag]||(this.tokens.links[u.tag]={href:u.href,title:u.title}):(s.raw+="\n"+u.raw,s.text+="\n"+u.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text);else if(u=this.tokenizer.table(e))e=e.substring(u.raw.length),t.push(u);else if(u=this.tokenizer.lheading(e))e=e.substring(u.raw.length),t.push(u);else{if(n=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const u=e.slice(1);let s;this.options.extensions.startBlock.forEach((e=>{s=e.call({lexer:this},u),"number"==typeof s&&s>=0&&(t=Math.min(t,s))})),t<1/0&&t>=0&&(n=e.substring(0,t+1))}if(this.state.top&&(u=this.tokenizer.paragraph(n)))s=t[t.length-1],i&&"paragraph"===s.type?(s.raw+="\n"+u.raw,s.text+="\n"+u.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(u),i=n.length!==e.length,e=e.substring(u.raw.length);else if(u=this.tokenizer.text(e))e=e.substring(u.raw.length),s=t[t.length-1],s&&"text"===s.type?(s.raw+="\n"+u.raw,s.text+="\n"+u.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(u);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let u,s,n,i,r,l,o=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(i=this.tokenizer.rules.inline.reflinkSearch.exec(o));)e.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(i=this.tokenizer.rules.inline.blockSkip.exec(o));)o=o.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(i=this.tokenizer.rules.inline.anyPunctuation.exec(o));)o=o.slice(0,i.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(r||(l=""),r=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((s=>!!(u=s.call({lexer:this},e,t))&&(e=e.substring(u.raw.length),t.push(u),!0)))))if(u=this.tokenizer.escape(e))e=e.substring(u.raw.length),t.push(u);else if(u=this.tokenizer.tag(e))e=e.substring(u.raw.length),s=t[t.length-1],s&&"text"===u.type&&"text"===s.type?(s.raw+=u.raw,s.text+=u.text):t.push(u);else if(u=this.tokenizer.link(e))e=e.substring(u.raw.length),t.push(u);else if(u=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(u.raw.length),s=t[t.length-1],s&&"text"===u.type&&"text"===s.type?(s.raw+=u.raw,s.text+=u.text):t.push(u);else if(u=this.tokenizer.emStrong(e,o,l))e=e.substring(u.raw.length),t.push(u);else if(u=this.tokenizer.codespan(e))e=e.substring(u.raw.length),t.push(u);else if(u=this.tokenizer.br(e))e=e.substring(u.raw.length),t.push(u);else if(u=this.tokenizer.del(e))e=e.substring(u.raw.length),t.push(u);else if(u=this.tokenizer.autolink(e))e=e.substring(u.raw.length),t.push(u);else if(this.state.inLink||!(u=this.tokenizer.url(e))){if(n=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const u=e.slice(1);let s;this.options.extensions.startInline.forEach((e=>{s=e.call({lexer:this},u),"number"==typeof s&&s>=0&&(t=Math.min(t,s))})),t<1/0&&t>=0&&(n=e.substring(0,t+1))}if(u=this.tokenizer.inlineText(n))e=e.substring(u.raw.length),"_"!==u.raw.slice(-1)&&(l=u.raw.slice(-1)),r=!0,s=t[t.length-1],s&&"text"===s.type?(s.raw+=u.raw,s.text+=u.text):t.push(u);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(u.raw.length),t.push(u);return t}}class Fe{constructor(e){u(this,"options",void 0),this.options=e||f}code(e,t,u){var s;const n=null===(s=(t||"").match(/^\S*/))||void 0===s?void 0:s[0];return e=e.replace(/\n$/,"")+"\n",n?'<pre><code class="language-'+w(n)+'">'+(u?e:w(e,!0))+"</code></pre>\n":"<pre><code>"+(u?e:w(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e,t){return e}heading(e,t,u){return`<h${t}>${e}</h${t}>\n`}hr(){return"<hr>\n"}list(e,t,u){const s=t?"ol":"ul";return"<"+s+(t&&1!==u?' start="'+u+'"':"")+">\n"+e+"</"+s+">\n"}listitem(e,t,u){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const u=t.header?"th":"td";return(t.align?`<${u} align="${t.align}">`:`<${u}>`)+e+`</${u}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,u){const s=R(e);if(null===s)return u;let n='<a href="'+(e=s)+'"';return t&&(n+=' title="'+t+'"'),n+=">"+u+"</a>",n}image(e,t,u){const s=R(e);if(null===s)return u;let n=`<img src="${e=s}" alt="${u}"`;return t&&(n+=` title="${t}"`),n+=">",n}text(e){return e}}class xe{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,u){return""+u}image(e,t,u){return""+u}br(){return""}}class Be{constructor(e){u(this,"options",void 0),u(this,"renderer",void 0),u(this,"textRenderer",void 0),this.options=e||f,this.options.renderer=this.options.renderer||new Fe,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new xe}static parse(e,t){return new Be(t).parse(e)}static parseInline(e,t){return new Be(t).parseInline(e)}parse(e,t=!0){let u="";for(let s=0;s<e.length;s++){const n=e[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[n.type]){const e=n,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(e.type)){u+=t||"";continue}}switch(n.type){case"space":continue;case"hr":u+=this.renderer.hr();continue;case"heading":{const e=n;u+=this.renderer.heading(this.parseInline(e.tokens),e.depth,$(this.parseInline(e.tokens,this.textRenderer)));continue}case"code":{const e=n;u+=this.renderer.code(e.text,e.lang,!!e.escaped);continue}case"table":{const e=n;let t="",s="";for(let u=0;u<e.header.length;u++)s+=this.renderer.tablecell(this.parseInline(e.header[u].tokens),{header:!0,align:e.align[u]});t+=this.renderer.tablerow(s);let i="";for(let u=0;u<e.rows.length;u++){const t=e.rows[u];s="";for(let u=0;u<t.length;u++)s+=this.renderer.tablecell(this.parseInline(t[u].tokens),{header:!1,align:e.align[u]});i+=this.renderer.tablerow(s)}u+=this.renderer.table(t,i);continue}case"blockquote":{const e=n,t=this.parse(e.tokens);u+=this.renderer.blockquote(t);continue}case"list":{const e=n,t=e.ordered,s=e.start,i=e.loose;let r="";for(let u=0;u<e.items.length;u++){const t=e.items[u],s=t.checked,n=t.task;let l="";if(t.task){const e=this.renderer.checkbox(!!s);i?t.tokens.length>0&&"paragraph"===t.tokens[0].type?(t.tokens[0].text=e+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&"text"===t.tokens[0].tokens[0].type&&(t.tokens[0].tokens[0].text=e+" "+t.tokens[0].tokens[0].text)):t.tokens.unshift({type:"text",text:e+" "}):l+=e+" "}l+=this.parse(t.tokens,i),r+=this.renderer.listitem(l,n,!!s)}u+=this.renderer.list(r,t,s);continue}case"html":{const e=n;u+=this.renderer.html(e.text,e.block);continue}case"paragraph":{const e=n;u+=this.renderer.paragraph(this.parseInline(e.tokens));continue}case"text":{let i=n,r=i.tokens?this.parseInline(i.tokens):i.text;for(;s+1<e.length&&"text"===e[s+1].type;)i=e[++s],r+="\n"+(i.tokens?this.parseInline(i.tokens):i.text);u+=t?this.renderer.paragraph(r):r;continue}default:{const e='Token with "'+n.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return u}parseInline(e,t){t=t||this.renderer;let u="";for(let s=0;s<e.length;s++){const n=e[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[n.type]){const e=this.options.extensions.renderers[n.type].call({parser:this},n);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(n.type)){u+=e||"";continue}}switch(n.type){case"escape":{const e=n;u+=t.text(e.text);break}case"html":{const e=n;u+=t.html(e.text);break}case"link":{const e=n;u+=t.link(e.href,e.title,this.parseInline(e.tokens,t));break}case"image":{const e=n;u+=t.image(e.href,e.title,e.text);break}case"strong":{const e=n;u+=t.strong(this.parseInline(e.tokens,t));break}case"em":{const e=n;u+=t.em(this.parseInline(e.tokens,t));break}case"codespan":{const e=n;u+=t.codespan(e.text);break}case"br":u+=t.br();break;case"del":{const e=n;u+=t.del(this.parseInline(e.tokens,t));break}case"text":{const e=n;u+=t.text(e.text);break}default:{const e='Token with "'+n.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return u}}class me{constructor(e){u(this,"options",void 0),this.options=e||f}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}u(me,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var Ce=new WeakSet,be=new WeakSet;function we(e,u){return(s,n)=>{const i={...n},r={...this.defaults,...i};!0===this.defaults.async&&!1===i.async&&(r.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),r.async=!0);const l=t(this,be,ye).call(this,!!r.silent,!!r.async);if(null==s)return l(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof s)return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(s)+", string expected"));if(r.hooks&&(r.hooks.options=r),r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(s):s).then((t=>e(t,r))).then((e=>r.hooks?r.hooks.processAllTokens(e):e)).then((e=>r.walkTokens?Promise.all(this.walkTokens(e,r.walkTokens)).then((()=>e)):e)).then((e=>u(e,r))).then((e=>r.hooks?r.hooks.postprocess(e):e)).catch(l);try{r.hooks&&(s=r.hooks.preprocess(s));let t=e(s,r);r.hooks&&(t=r.hooks.processAllTokens(t)),r.walkTokens&&this.walkTokens(t,r.walkTokens);let n=u(t,r);return r.hooks&&(n=r.hooks.postprocess(n)),n}catch(o){return l(o)}}}function ye(e,t){return u=>{if(u.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+w(u.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(u);throw u}}const $e=new class{constructor(...s){e(this,be),e(this,Ce),u(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),u(this,"options",this.setOptions),u(this,"parse",t(this,Ce,we).call(this,De.lex,Be.parse)),u(this,"parseInline",t(this,Ce,we).call(this,De.lexInline,Be.parseInline)),u(this,"Parser",Be),u(this,"Renderer",Fe),u(this,"TextRenderer",xe),u(this,"Lexer",De),u(this,"Tokenizer",q),u(this,"Hooks",me),this.use(...s)}walkTokens(e,t){let u=[];for(const n of e)switch(u=u.concat(t.call(this,n)),n.type){case"table":{const e=n;for(const s of e.header)u=u.concat(this.walkTokens(s.tokens,t));for(const s of e.rows)for(const e of s)u=u.concat(this.walkTokens(e.tokens,t));break}case"list":{const e=n;u=u.concat(this.walkTokens(e.items,t));break}default:{var s;const e=n;null!==(s=this.defaults.extensions)&&void 0!==s&&null!==(s=s.childTokens)&&void 0!==s&&s[e.type]?this.defaults.extensions.childTokens[e.type].forEach((s=>{u=u.concat(this.walkTokens(e[s],t))})):e.tokens&&(u=u.concat(this.walkTokens(e.tokens,t)))}}return u}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach((e=>{const u={...e};if(u.async=this.defaults.async||u.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){const u=t.renderers[e.name];t.renderers[e.name]=u?function(...t){let s=e.renderer.apply(this,t);return!1===s&&(s=u.apply(this,t)),s}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");const u=t[e.level];u?u.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),u.extensions=t),e.renderer){const t=this.defaults.renderer||new Fe(this.defaults);for(const u in e.renderer){if(!(u in t))throw new Error(`renderer '${u}' does not exist`);if("options"===u)continue;const s=u,n=e.renderer[s],i=t[s];t[s]=(...e)=>{let u=n.apply(t,e);return!1===u&&(u=i.apply(t,e)),u||""}}u.renderer=t}if(e.tokenizer){const t=this.defaults.tokenizer||new q(this.defaults);for(const u in e.tokenizer){if(!(u in t))throw new Error(`tokenizer '${u}' does not exist`);if(["options","rules","lexer"].includes(u))continue;const s=u,n=e.tokenizer[s],i=t[s];t[s]=(...e)=>{let u=n.apply(t,e);return!1===u&&(u=i.apply(t,e)),u}}u.tokenizer=t}if(e.hooks){const t=this.defaults.hooks||new me;for(const u in e.hooks){if(!(u in t))throw new Error(`hook '${u}' does not exist`);if("options"===u)continue;const s=u,n=e.hooks[s],i=t[s];me.passThroughHooks.has(u)?t[s]=e=>{if(this.defaults.async)return Promise.resolve(n.call(t,e)).then((e=>i.call(t,e)));const u=n.call(t,e);return i.call(t,u)}:t[s]=(...e)=>{let u=n.apply(t,e);return!1===u&&(u=i.apply(t,e)),u}}u.hooks=t}if(e.walkTokens){const t=this.defaults.walkTokens,s=e.walkTokens;u.walkTokens=function(e){let u=[];return u.push(s.call(this,e)),t&&(u=u.concat(t.call(this,e))),u}}this.defaults={...this.defaults,...u}})),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return De.lex(e,null!=t?t:this.defaults)}parser(e,t){return Be.parse(e,null!=t?t:this.defaults)}};function ve(e,t){return $e.parse(e,t)}ve.options=ve.setOptions=function(e){return $e.setOptions(e),ve.defaults=$e.defaults,D(ve.defaults),ve},ve.getDefaults=n,ve.defaults=f,ve.use=function(...e){return $e.use(...e),ve.defaults=$e.defaults,D(ve.defaults),ve},ve.walkTokens=function(e,t){return $e.walkTokens(e,t)},ve.parseInline=$e.parseInline,ve.Parser=Be,ve.parser=Be.parse,ve.Renderer=Fe,ve.TextRenderer=xe,ve.Lexer=De,ve.lexer=De.lex,ve.Tokenizer=q,ve.Hooks=me,ve.parse=ve,ve.options,ve.setOptions,ve.use,ve.walkTokens,ve.parseInline,Be.parse,De.lex;const ze=s("d",{company:"",startDate:0,endDate:void 0,address:"",jobDescr:"",equipment:[],technicians:[],supervisors:[],access:[],risks:[],measures:{},meta:{}});const Re=p(new class{constructor(e){u(this,"id",void 0),u(this,"descr",void 0),u(this,"company",void 0),u(this,"startDate",void 0),u(this,"endDate",void 0),u(this,"address",void 0),u(this,"jobDescr",void 0),u(this,"equipment",void 0),u(this,"technicians",void 0),u(this,"supervisors",void 0),u(this,"access",void 0),u(this,"risks",void 0),u(this,"allRisks",void 0),u(this,"measures",void 0),u(this,"meta",void 0),u(this,"initData",void 0),u(this,"isReady",void 0),u(this,"ready",void 0),this.initData={...ze},this.isReady=!1,this.init(e)}init(e){this.isReady=!1,this.measures={},this.meta={},this.allRisks=[],i(this,r(ze)),e&&i(this,e),this.updateInitData()}clear(){this.init(),this.id=void 0}updateInitData(){const e=r(l(this,ze));this.initData=e}reset(){i(this,this.initData)}modified(){for(let e in this.initData)if(!o(this[e],this.initData[e]))return!0;return!1}loadFromDb(e){return this.init({id:e}),this.ready=h.ready().then((()=>h.table("riskassessments").getAsPromise(e))).then((e=>{this.init(e),this.isReady=!0})).catch((e=>{throw Error(e)})),this.ready}async save(){if(void 0===this.id)throw Error("Attempt to update without id");let e={};return e=r(l(this,ze)),a.riskassessments.update(this.id,e).then((e=>{if(0===e)throw Error("Could not update. Does ID "+this.id+" exist?");const t=Math.floor(Date.now()/1e3);a.riskassessmentsmeta.update(this.id,{lastChange:t}),this.updateInitData()}))}dateStr(e){return e.getUTCFullYear()+"-"+(e.getUTCMonth()+1)+"-"+e.getUTCDate()}getStartDate(){return new Date(this.startDate)}setStartDate(e){this.startDate=this.dateStr(e)}getEndDate(){return this.endDate?new Date(this.endDate):void 0}setEndDate(e){this.endDate=void 0===e?void 0:this.dateStr(e)}async calcAllRisks(){await E.ready();const e=await h.table("measures").ready(),t=await h.table("equipment").ready(),u=[],s=[...this.risks];for(this.resetMetaAddedBy(),this.equipment.forEach((e=>{t.get(e).causeRisks.forEach((t=>{s.push(t);const u=this.getMeta(t);u.addedBy.find((t=>t.id===e&&"equipment"===t.type))||u.addedBy.push({id:e,type:"equipment"})}))}));s.length>0;){const t=s.pop();u.includes(t)||(u.push(t),this.getMeasures(t).forEach((t=>{e.get(t).causeRisks.forEach((e=>{s.push(e);const u=this.getMeta(e);u.addedBy.find((e=>e.id===t&&"measure"===e.type))||u.addedBy.push({id:t,type:"measure"})}))})))}return this.allRisks=u,u}resetMetaAddedBy(){for(let e in this.meta)this.getMeta(parseInt(e)).addedBy.length=0}getMeta(e){return void 0===this.meta[e]&&(this.meta[e]={risk:e,addedBy:[]}),this.meta[e]}getMeasures(e){return void 0===this.measures[e]&&(this.measures[e]=[]),this.measures[e]}getMeasuresAsRef(e){return A(this.getMeasures(e))}addSector(e={}){const t=this.access.map((e=>e.id?e.id:0)).reduce(((e,t)=>e>t?e+1:t+1),0);this.access.push({id:t,title:"Neuer Sektor "+t,entrance:"",exit:"",anchorPoints:"",comment:"",rescue:"",...e})}});function Te(e){const t=d();let u=e;return t&&t.path.startsWith("/riskassessment")&&void 0!==t.params.id&&(u=parseInt(t.params.id)),void 0===u||Re.id===u||Re.loadFromDb(u),Re}}}}))}();
