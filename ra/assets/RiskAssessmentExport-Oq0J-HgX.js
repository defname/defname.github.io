import{d as A,x as T,o as t,c as E,w as m,b as g,j as d,f as l,k as H,K as L,a as e,t as r,g as s,l as h,R as c,F as u,G as M}from"./index-sS98weYx.js";import{u as x,b as v}from"./riskassessment-P18IDQr_.js";import{S as p}from"./helpers-6pYLpwcd.js";import{T as D}from"./TemplateRiskAssessmentPage-y_oqguj4.js";import"./livequery-Ch80CViN.js";import"./liveriskstree-BHmaqo59.js";const w={id:"print"},B=e("h1",null,"Einsatzplanung",-1),C=e("p",null," Es wird grundsätzlich nach den geltenden Regeln und Vroschriften der DGUV, dem Arbeitsschutzgesetz, der BetrSichV, den TRBS und der FISAT FSR-SZP gearbeitet. ",-1),R=e("strong",null,"Ausführende Firma:",-1),z=e("strong",null,"Einsatzdatum:",-1),G=e("strong",null,"Einsatzort:",-1),N=e("strong",null,"Durchzuführende Arbeiten:",-1),V=e("br",null,null,-1),F={key:0},I=e("strong",null,"Aufsichtsführende Höhenarbeiter:",-1),j=e("p",null,[e("strong",null,"Höhenarbeiter:")],-1),P=e("thead",null,[e("tr",null,[e("th",null,"Name"),e("th",null,"FISAT-Nr"),e("th",null,"Level")])],-1),S=e("strong",null,"Ausrüstung:",-1),$=e("h2",null,"Zugangsverfahren",-1),Z={key:0},q=e("strong",null,"Einstieg:",-1),K=["innerHTML"],U={key:1},W=e("strong",null,"Ausstieg:",-1),J=["innerHTML"],O={key:2},Q=e("strong",null,"Anschlagpunkte:",-1),X=["innerHTML"],Y=["innerHTML"],ee=e("h2",null,"Notfall- und Rettungsplan",-1),ne=["innerHTML"],te=e("h1",null,"Gefährdungsermittlung",-1),se={key:0},le={key:1},re={key:2},ue=e("thead",null,[e("tr",null,[e("th",null,"Gefährdung"),e("th",null,"Maßnahme")])],-1),oe={colspan:"2"},ie={class:"factor"},de={key:0},fe=A({__name:"RiskAssessmentExport",setup(ae){x();const o=v();T("");function k(f){const a=window.open("","print","");if(!a)return;a.open(),a.document.write('<html>\n    <head>\n        <link rel="stylesheet" href="/ra/print.css" />\n    </head>\n    <body>'.concat(f.outerHTML,"\n    </body>\n    </html>")),a.document.close();const n=a.document.createElement("script");n.setAttribute("src","/ra/print.js"),a.document.head.appendChild(n)}async function b(){k(document.getElementById("print"))}return(f,a)=>(t(),E(D,null,{default:m(()=>[g(l(H),{onClick:a[0]||(a[0]=n=>b())},{default:m(()=>[d("Drucken")]),_:1}),g(l(M),null,{default:m(()=>[g(l(L),null,{default:m(()=>[e("div",w,[B,C,e("p",null,[R,d(" "+r(l(o).company),1)]),e("p",null,[z,d(" "+r(l(o).startDate)+" "+r(l(o).endDate?l(o).endDate:""),1)]),e("p",null,[G,d(" "+r(l(o).address),1)]),e("p",null,[N,V,d(" "+r(l(o).jobDescr),1)]),l(o).supervisors?(t(),s("p",F,[I,d(" "+r(l(o).supervisors.map(n=>n.name).join(", ")),1)])):h("",!0),j,e("table",null,[P,(t(!0),s(u,null,c(l(o).technicians,n=>{var _,i;return t(),s("tr",null,[e("td",null,r(n.name),1),e("td",null,r((_=n.fisat)==null?void 0:_.id),1),e("td",null,r((i=n.fisat)==null?void 0:i.level),1)])}),256))]),e("p",null,[S,e("ul",null,[(t(!0),s(u,null,c(l(o).equipment,n=>(t(),s("li",null,r(n.descr),1))),256))])]),$,(t(!0),s(u,null,c(l(o).access,n=>(t(),s(u,null,[e("p",null,[e("strong",null,r(n.title),1)]),n.access?(t(),s("p",Z,[q,d(),e("span",{innerHTML:n.access},null,8,K)])):h("",!0),n.exit?(t(),s("p",U,[W,d(),e("span",{innerHTML:n.exit},null,8,J)])):h("",!0),n.anchorPoints?(t(),s("p",O,[Q,d(),e("span",{innerHTML:n.anchorPoints},null,8,X)])):h("",!0),n.comment?(t(),s("p",{key:3,innerHTML:n.comment},null,8,Y)):h("",!0)],64))),256)),ee,(t(!0),s(u,null,c(l(o).access,n=>(t(),s(u,null,[e("p",null,[e("strong",null,r(n.title),1)]),e("p",{innerHTML:n.rescue},null,8,ne)],64))),256)),te,(t(!0),s(u,null,c([l(p).Access,l(p).Environment,l(p).Work],n=>(t(),s(u,null,[n===l(p).Access?(t(),s("h3",se,"Gefahren durch die ausgewählten Zugangstechniken")):n===l(p).Environment?(t(),s("h3",le,"Gefahren durch die Arbeitsumgebung")):(t(),s("h3",re,"Gefahren durch die Arbeit")),e("table",null,[ue,e("tbody",null,[(t(!0),s(u,null,c(l(o).categories,_=>(t(),s(u,null,[_.risks.filter(i=>i.risk.sector===n).length?(t(),s(u,{key:0},[e("tr",null,[e("th",oe,r(_.descr),1)]),(t(!0),s(u,null,c(_.risks.filter(i=>i.risk.sector===n),i=>(t(),s("tr",null,[e("td",null,[e("span",ie,r(i.risk.factor.descr),1),d(" "+r(i.risk.descr),1)]),e("td",null,[i.measures.length>1?(t(),s("ul",de,[(t(!0),s(u,null,c(i.measures,y=>(t(),s("li",null,r(y.descr),1))),256))])):i.measures.length===1?(t(),s(u,{key:1},[d(r(i.measures[0].descr),1)],64)):h("",!0)])]))),256))],64)):h("",!0)],64))),256))])])],64))),256))])]),_:1})]),_:1})]),_:1}))}});export{fe as default};
