System.register(["./index-legacy-sTcrDMYq.js","./riskassessment-legacy-9hi0LLwl.js","./liveriskstree-legacy-1-jYbkaU.js","./livequery-legacy-tkInflhO.js","./MeasureCatalog.vue_vue_type_script_setup_true_lang-legacy-0ZTmKWDG.js","./AddedByList.vue_vue_type_script_setup_true_lang-legacy-hIXktTF3.js","./TemplateRiskAssessmentPage-legacy-U8MtJ39U.js","./helpers-legacy-Rp8Wbxgk.js","./GenericList.vue_vue_type_script_setup_true_lang-legacy-eGB1eg0m.js"],(function(e,l){"use strict";var a,t,u,s,r,n,d,i,o,_,c,g,m,f,y,v,p,k,b,j,V,R,M,h,w,x,A,q,B,C,E,G,I,T;return{setters:[e=>{a=e.d,t=e.u,u=e.e,s=e.x,r=e.o,n=e.c,d=e.w,i=e.f,o=e.g,_=e.q,c=e.b,g=e.n,m=e.p,f=e.m,y=e.l,v=e.H,p=e.T,k=e.i,b=e.j,j=e.t,V=e.J,R=e.ak,M=e.K,h=e.E,w=e.G,x=e.ag,A=e.af,q=e.F},e=>{B=e.u},e=>{C=e.l},e=>{E=e.l},e=>{G=e._},e=>{I=e._},e=>{T=e.T},null,null],execute:function(){e("default",a({__name:"RAEditRiskEntry",setup(e){const l=B(),a=E.table("measures"),U=parseInt(t().params.riskId),z=C.getAsRef(U),H=u((()=>{if(!a.isReady().value)return[];l.getMeasures(U).map((e=>a.get(e)))}));E.table("measures").updated();const K=u((()=>void 0!==z.value&&E.table("measures").isReady()?E.table("measures").entries().filter((e=>e.solveRisks.includes(z.value.id))):[])),L=s("selected");return(e,t)=>(r(),n(T,null,{default:d((()=>[i(z)&&i(l).isReady&&i(a).isReady()?(r(),o(q,{key:0},["selected"!==L.value?(r(),n(i(_),{key:0,slot:"fixed",vertical:"bottom",horizontal:"end"},{default:d((()=>[c(i(f),{"router-link":`/measures/new?for=${i(z).id}`},{default:d((()=>[c(i(g),{icon:i(m)},null,8,["icon"])])),_:1},8,["router-link"])])),_:1})):y("",!0),c(i(w),null,{default:d((()=>[c(i(v),null,{default:d((()=>[c(i(p),null,{default:d((()=>[c(i(k),{position:"stacked"},{default:d((()=>[b(j(i(z).factor.category.descr)+" ➤ "+j(i(z).factor.descr),1)])),_:1})])),_:1}),c(i(V),null,{default:d((()=>[b(j(i(z).descr),1)])),_:1}),i(l).getMeta(i(U)).addedBy.length>0?(r(),n(i(R),{key:0},{default:d((()=>[c(I,{"trigger-list":i(l).getMeta(i(U)).addedBy},null,8,["trigger-list"])])),_:1})):y("",!0)])),_:1}),c(i(M),null,{default:d((()=>[c(i(h),{label:"Kommentar","auto-grow":"","label-placement":"floating",modelValue:i(l).getMeta(i(U)).comment,"onUpdate:modelValue":t[0]||(t[0]=e=>i(l).getMeta(i(U)).comment=e)},null,8,["modelValue"])])),_:1})])),_:1}),c(i(w),null,{default:d((()=>[c(i(v),null,{default:d((()=>[c(i(V),null,{default:d((()=>[b("Maßnahmen")])),_:1})])),_:1}),c(i(M),null,{default:d((()=>[c(i(x),{value:L.value,onIonChange:t[1]||(t[1]=l=>{L.value=l.detail.value,e.$router.replace({query:{segment:l.detail.value}})})},{default:d((()=>[c(i(A),{value:"selected"},{default:d((()=>[c(i(k),null,{default:d((()=>[b("Ausgewählt")])),_:1})])),_:1}),c(i(A),{value:"available"},{default:d((()=>[c(i(k),null,{default:d((()=>[b("Verfügbar")])),_:1})])),_:1})])),_:1},8,["value"]),"selected"===L.value?(r(),n(G,{key:0,modelValue:i(l).measures[i(U)],"onUpdate:modelValue":t[2]||(t[2]=e=>i(l).measures[i(U)]=e),entries:H.value,inverted:""},null,8,["modelValue","entries"])):(r(),n(G,{key:1,modelValue:i(l).measures[i(U)],"onUpdate:modelValue":t[3]||(t[3]=e=>i(l).measures[i(U)]=e),entries:K.value},null,8,["modelValue","entries"]))])),_:1})])),_:1})],64)):y("",!0)])),_:1}))}}))}}}));
