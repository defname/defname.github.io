System.register(["./index-legacy-sS6aLOVw.js","./riskassessment-legacy-obaEtDzR.js","./liveriskstree-legacy-L2MofBxz.js","./livequery-legacy-hzDUtCPS.js","./MeasureCatalog.vue_vue_type_script_setup_true_lang-legacy-DplfYWBb.js","./AddedByList.vue_vue_type_script_setup_true_lang-legacy-pFbuFdAT.js","./TemplateRiskAssessmentPage-legacy-xv6_oqnk.js","./database-legacy-zPeqZLiu.js","./GenericList.vue_vue_type_script_setup_true_lang-legacy-j-337cqn.js","./helpers-legacy-jVuaT5b9.js"],(function(e,l){"use strict";var a,t,u,s,r,n,d,i,o,_,c,g,m,f,y,v,p,k,b,j,V,R,M,h,A,w,q,x,B,C,E,I,K,L;return{setters:[e=>{a=e.d,t=e.u,u=e.e,s=e.x,r=e.o,n=e.c,d=e.w,i=e.f,o=e.g,_=e.q,c=e.b,g=e.n,m=e.p,f=e.m,y=e.l,v=e.H,p=e.T,k=e.i,b=e.j,j=e.t,V=e.J,R=e.aw,M=e.K,h=e.E,A=e.G,w=e.ar,q=e.aq,x=e.F},e=>{B=e.u},e=>{C=e.l},e=>{E=e.l},e=>{I=e._},e=>{K=e._},e=>{L=e.T},null,null,null],execute:function(){e("default",a({__name:"RAEditRiskEntry",setup(e){const l=B(),a=E.table("measures"),T=parseInt(t().params.riskId),U=C.getAsRef(T),z=u((()=>{if(!a.isReady().value)return[];l.getMeasures(T).map((e=>a.get(e)))}));E.table("measures").updated();const F=u((()=>void 0!==U.value&&E.table("measures").isReady()?E.table("measures").entries().filter((e=>e.solveRisks.includes(U.value.id))):[])),G=s("selected");return(e,t)=>(r(),n(L,null,{default:d((()=>[i(U)&&i(l).isReady&&i(a).isReady()?(r(),o(x,{key:0},["selected"!==G.value?(r(),n(i(_),{key:0,slot:"fixed",vertical:"bottom",horizontal:"end"},{default:d((()=>[c(i(f),{"router-link":`/measures/new?for=${i(U).id}`},{default:d((()=>[c(i(g),{icon:i(m)},null,8,["icon"])])),_:1},8,["router-link"])])),_:1})):y("",!0),c(i(A),null,{default:d((()=>[c(i(v),null,{default:d((()=>[c(i(p),null,{default:d((()=>[c(i(k),{position:"stacked"},{default:d((()=>[b(j(i(U).factor.category.descr)+" ➤ "+j(i(U).factor.descr),1)])),_:1})])),_:1}),c(i(V),null,{default:d((()=>[b(j(i(U).descr),1)])),_:1}),i(l).getMeta(i(T)).addedBy.length>0?(r(),n(i(R),{key:0},{default:d((()=>[c(K,{"trigger-list":i(l).getMeta(i(T)).addedBy},null,8,["trigger-list"])])),_:1})):y("",!0)])),_:1}),c(i(M),null,{default:d((()=>[c(i(h),{label:"Kommentar","auto-grow":"","label-placement":"floating",modelValue:i(l).getMeta(i(T)).comment,"onUpdate:modelValue":t[0]||(t[0]=e=>i(l).getMeta(i(T)).comment=e)},null,8,["modelValue"])])),_:1})])),_:1}),c(i(A),null,{default:d((()=>[c(i(v),null,{default:d((()=>[c(i(V),null,{default:d((()=>[b("Maßnahmen")])),_:1})])),_:1}),c(i(M),null,{default:d((()=>[c(i(w),{value:G.value,onIonChange:t[1]||(t[1]=l=>{G.value=l.detail.value,e.$router.replace({query:{segment:l.detail.value}})})},{default:d((()=>[c(i(q),{value:"selected"},{default:d((()=>[c(i(k),null,{default:d((()=>[b("Ausgewählt")])),_:1})])),_:1}),c(i(q),{value:"available"},{default:d((()=>[c(i(k),null,{default:d((()=>[b("Verfügbar")])),_:1})])),_:1})])),_:1},8,["value"]),"selected"===G.value?(r(),n(I,{key:0,modelValue:i(l).measures[i(T)],"onUpdate:modelValue":t[2]||(t[2]=e=>i(l).measures[i(T)]=e),entries:z.value,inverted:""},null,8,["modelValue","entries"])):(r(),n(I,{key:1,modelValue:i(l).measures[i(T)],"onUpdate:modelValue":t[3]||(t[3]=e=>i(l).measures[i(T)]=e),entries:F.value},null,8,["modelValue","entries"]))])),_:1})])),_:1})],64)):y("",!0)])),_:1}))}}))}}}));
