!function(){function e(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}System.register(["./index-legacy-6p2OTcKt.js","./GenericEditModal-legacy-CGAhlHPH.js","./helpers-legacy-f-Cl6UZF.js","./livequery-legacy-Ds8JqIw1.js"],(function(t,n){"use strict";var i,s,r,o,c,a,l,h,u,d,f,g,p,m,y,v,x,M,k,L,_,b,I,w,S,C,A,$,E,F,j;return{setters:[e=>{i=e.x,s=e.a2,r=e.f,o=e.e,c=e.d,a=e.o,l=e.g,h=e.b,u=e.E,d=e.w,f=e.W,g=e.X,p=e.k,m=e.n,y=e.Y,v=e.j,x=e.t,M=e.I,k=e.F,L=e.R,_=e.U,b=e.Z,I=e.r,w=e.i,S=e.$,C=e.a0,A=e.V,$=e.c},e=>{E=e.G},e=>{F=e.d},e=>{j=e.l}],execute:function(){t({a:$e,u:R});const n=j.table("inputhistory");class N{constructor(t){e(this,"inputId",void 0),e(this,"entries",void 0),this.inputId=t,this.entries=i([]),s([n.updated()],(()=>{console.log("InputHistory updated"),this.updateHistory()})),n.ready().then((()=>{this.updateHistory()}))}updateHistory(){n.isReady().value&&(this.entries.value=n.entries().filter((e=>e.inputId===this.inputId)).map((e=>e.text)))}add(...e){N.bulkAdd(...e.map((e=>({inputId:this.inputId,text:e})))).catch((e=>{console.error(e)}))}remove(e){return F.inputhistory.where("inputId").equals(this.inputId).and((t=>t.text.toLowerCase()===e.trim().toLowerCase())).delete()}static bulkAddFromObject(e,t){let n=[];for(let i in e){const s="string"==typeof e[i]?t[e[i]]:e[i](t);"string"==typeof s?n.push({inputId:i,text:s.trim()}):Array.isArray(s)?n.push(...s.map((e=>({inputId:i,text:e.trim()})))):console.warn("WHHAATT")}return N.bulkAdd(...n)}static bulkAdd(...e){const t=e.filter((e=>""!==e.text.trim())).map((e=>({...e,text:e.text.trim()})));return t.forEach((e=>{F.inputhistory.where("inputId").equals(e.inputId).and((t=>t.text.toLowerCase()===e.text.toLowerCase())).delete()})),F.inputhistory.bulkAdd(t)}}function R(e){return new N(e)}function W(e){return Array.isArray?Array.isArray(e):"[object Array]"===G(e)}const O=1/0;function V(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-O?"-0":t}(e)}function P(e){return"string"==typeof e}function H(e){return"number"==typeof e}function q(e){return!0===e||!1===e||function(e){return K(e)&&null!==e}(e)&&"[object Boolean]"==G(e)}function K(e){return"object"==typeof e}function z(e){return null!=e}function T(e){return!e.trim().length}function G(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const J=e=>`Missing ${e} property in key`,U=e=>`Property 'weight' in key '${e}' must be a positive integer`,D=Object.prototype.hasOwnProperty;class B{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=Q(e);t+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Q(e){let t=null,n=null,i=null,s=1,r=null;if(P(e)||W(e))i=e,t=X(e),n=Y(e);else{if(!D.call(e,"name"))throw new Error(J("name"));const o=e.name;if(i=o,D.call(e,"weight")&&(s=e.weight,s<=0))throw new Error(U(o));t=X(o),n=Y(o),r=e.getFn}return{path:t,id:n,weight:s,src:i,getFn:r}}function X(e){return W(e)?e:e.split(".")}function Y(e){return W(e)?e.join("."):e}var Z={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(e,t){let n=[],i=!1;const s=(e,t,r)=>{if(z(e))if(t[r]){const o=e[t[r]];if(!z(o))return;if(r===t.length-1&&(P(o)||H(o)||q(o)))n.push(V(o));else if(W(o)){i=!0;for(let e=0,n=o.length;e<n;e+=1)s(o[e],t,r+1)}else t.length&&s(o,t,r+1)}else n.push(e)};return s(e,P(t)?t.split("."):t,0),i?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const ee=/[^ ]+/g;class te{constructor({getFn:e=Z.getFn,fieldNormWeight:t=Z.fieldNormWeight}={}){this.norm=function(e=1,t=3){const n=new Map,i=Math.pow(10,t);return{get(t){const s=t.match(ee).length;if(n.has(s))return n.get(s);const r=1/Math.pow(s,.5*e),o=parseFloat(Math.round(r*i)/i);return n.set(s,o),o},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,P(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();P(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!z(e)||T(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,i)=>{let s=t.getFn?t.getFn(e):this.getFn(e,t.path);if(z(s))if(W(s)){let e=[];const t=[{nestedArrIndex:-1,value:s}];for(;t.length;){const{nestedArrIndex:n,value:i}=t.pop();if(z(i))if(P(i)&&!T(i)){let t={v:i,i:n,n:this.norm.get(i)};e.push(t)}else W(i)&&i.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[i]=e}else if(P(s)&&!T(s)){let e={v:s,n:this.norm.get(s)};n.$[i]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function ne(e,t,{getFn:n=Z.getFn,fieldNormWeight:i=Z.fieldNormWeight}={}){const s=new te({getFn:n,fieldNormWeight:i});return s.setKeys(e.map(Q)),s.setSources(t),s.create(),s}function ie(e,{errors:t=0,currentLocation:n=0,expectedLocation:i=0,distance:s=Z.distance,ignoreLocation:r=Z.ignoreLocation}={}){const o=t/e.length;if(r)return o;const c=Math.abs(i-n);return s?o+c/s:c?1:o}const se=32;function re(e,t,n,{location:i=Z.location,distance:s=Z.distance,threshold:r=Z.threshold,findAllMatches:o=Z.findAllMatches,minMatchCharLength:c=Z.minMatchCharLength,includeMatches:a=Z.includeMatches,ignoreLocation:l=Z.ignoreLocation}={}){if(t.length>se)throw new Error(`Pattern length exceeds max of ${se}.`);const h=t.length,u=e.length,d=Math.max(0,Math.min(i,u));let f=r,g=d;const p=c>1||a,m=p?Array(u):[];let y;for(;(y=e.indexOf(t,g))>-1;){let e=ie(t,{currentLocation:y,expectedLocation:d,distance:s,ignoreLocation:l});if(f=Math.min(e,f),g=y+h,p){let e=0;for(;e<h;)m[y+e]=1,e+=1}}g=-1;let v=[],x=1,M=h+u;const k=1<<h-1;for(let _=0;_<h;_+=1){let i=0,r=M;for(;i<r;){ie(t,{errors:_,currentLocation:d+r,expectedLocation:d,distance:s,ignoreLocation:l})<=f?i=r:M=r,r=Math.floor((M-i)/2+i)}M=r;let c=Math.max(1,d-r+1),a=o?u:Math.min(d+r,u)+h,y=Array(a+2);y[a+1]=(1<<_)-1;for(let o=a;o>=c;o-=1){let i=o-1,r=n[e.charAt(i)];if(p&&(m[i]=+!!r),y[o]=(y[o+1]<<1|1)&r,_&&(y[o]|=(v[o+1]|v[o])<<1|1|v[o+1]),y[o]&k&&(x=ie(t,{errors:_,currentLocation:i,expectedLocation:d,distance:s,ignoreLocation:l}),x<=f)){if(f=x,g=i,g<=d)break;c=Math.max(1,2*d-g)}}if(ie(t,{errors:_+1,currentLocation:d,expectedLocation:d,distance:s,ignoreLocation:l})>f)break;v=y}const L={isMatch:g>=0,score:Math.max(.001,x)};if(p){const e=function(e=[],t=Z.minMatchCharLength){let n=[],i=-1,s=-1,r=0;for(let o=e.length;r<o;r+=1){let o=e[r];o&&-1===i?i=r:o||-1===i||(s=r-1,s-i+1>=t&&n.push([i,s]),i=-1)}return e[r-1]&&r-i>=t&&n.push([i,r-1]),n}(m,c);e.length?a&&(L.indices=e):L.isMatch=!1}return L}function oe(e){let t={};for(let n=0,i=e.length;n<i;n+=1){const s=e.charAt(n);t[s]=(t[s]||0)|1<<i-n-1}return t}class ce{constructor(e,{location:t=Z.location,threshold:n=Z.threshold,distance:i=Z.distance,includeMatches:s=Z.includeMatches,findAllMatches:r=Z.findAllMatches,minMatchCharLength:o=Z.minMatchCharLength,isCaseSensitive:c=Z.isCaseSensitive,ignoreLocation:a=Z.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:i,includeMatches:s,findAllMatches:r,minMatchCharLength:o,isCaseSensitive:c,ignoreLocation:a},this.pattern=c?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const l=(e,t)=>{this.chunks.push({pattern:e,alphabet:oe(e),startIndex:t})},h=this.pattern.length;if(h>se){let e=0;const t=h%se,n=h-t;for(;e<n;)l(this.pattern.substr(e,se),e),e+=se;if(t){const e=h-se;l(this.pattern.substr(e),e)}}else l(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:i,distance:s,threshold:r,findAllMatches:o,minMatchCharLength:c,ignoreLocation:a}=this.options;let l=[],h=0,u=!1;this.chunks.forEach((({pattern:t,alphabet:d,startIndex:f})=>{const{isMatch:g,score:p,indices:m}=re(e,t,d,{location:i+f,distance:s,threshold:r,findAllMatches:o,minMatchCharLength:c,includeMatches:n,ignoreLocation:a});g&&(u=!0),h+=p,g&&m&&(l=[...l,...m])}));let d={isMatch:u,score:u?h/this.chunks.length:1};return u&&n&&(d.indices=l),d}}class ae{constructor(e){this.pattern=e}static isMultiMatch(e){return le(e,this.multiRegex)}static isSingleMatch(e){return le(e,this.singleRegex)}search(){}}function le(e,t){const n=e.match(t);return n?n[1]:null}class he extends ae{constructor(e,{location:t=Z.location,threshold:n=Z.threshold,distance:i=Z.distance,includeMatches:s=Z.includeMatches,findAllMatches:r=Z.findAllMatches,minMatchCharLength:o=Z.minMatchCharLength,isCaseSensitive:c=Z.isCaseSensitive,ignoreLocation:a=Z.ignoreLocation}={}){super(e),this._bitapSearch=new ce(e,{location:t,threshold:n,distance:i,includeMatches:s,findAllMatches:r,minMatchCharLength:o,isCaseSensitive:c,ignoreLocation:a})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class ue extends ae{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const i=[],s=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+s,i.push([t,n-1]);const r=!!i.length;return{isMatch:r,score:r?0:1,indices:i}}}const de=[class extends ae{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},ue,class extends ae{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends ae{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends ae{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends ae{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends ae{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},he],fe=de.length,ge=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const pe=new Set([he.type,ue.type]);class me{constructor(e,{isCaseSensitive:t=Z.isCaseSensitive,includeMatches:n=Z.includeMatches,minMatchCharLength:i=Z.minMatchCharLength,ignoreLocation:s=Z.ignoreLocation,findAllMatches:r=Z.findAllMatches,location:o=Z.location,threshold:c=Z.threshold,distance:a=Z.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:i,findAllMatches:r,ignoreLocation:s,location:o,threshold:c,distance:a},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split("|").map((e=>{let n=e.trim().split(ge).filter((e=>e&&!!e.trim())),i=[];for(let s=0,r=n.length;s<r;s+=1){const e=n[s];let r=!1,o=-1;for(;!r&&++o<fe;){const n=de[o];let s=n.isMultiMatch(e);s&&(i.push(new n(s,t)),r=!0)}if(!r)for(o=-1;++o<fe;){const n=de[o];let s=n.isSingleMatch(e);if(s){i.push(new n(s,t));break}}}return i}))}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:i}=this.options;e=i?e:e.toLowerCase();let s=0,r=[],o=0;for(let c=0,a=t.length;c<a;c+=1){const i=t[c];r.length=0,s=0;for(let t=0,c=i.length;t<c;t+=1){const c=i[t],{isMatch:a,indices:l,score:h}=c.search(e);if(!a){o=0,s=0,r.length=0;break}if(s+=1,o+=h,n){const e=c.constructor.type;pe.has(e)?r=[...r,...l]:r.push(l)}}if(s){let e={isMatch:!0,score:o/s};return n&&(e.indices=r),e}}return{isMatch:!1,score:1}}}const ye=[];function ve(e,t){for(let n=0,i=ye.length;n<i;n+=1){let i=ye[n];if(i.condition(e,t))return new i(e,t)}return new ce(e,t)}const xe="$and",Me="$or",ke="$path",Le="$val",_e=e=>!(!e[xe]&&!e[Me]),be=e=>({[xe]:Object.keys(e).map((t=>({[t]:e[t]})))});function Ie(e,t,{auto:n=!0}={}){const i=e=>{let s=Object.keys(e);const r=(e=>!!e[ke])(e);if(!r&&s.length>1&&!_e(e))return i(be(e));if((e=>!W(e)&&K(e)&&!_e(e))(e)){const i=r?e[ke]:s[0],o=r?e[Le]:e[i];if(!P(o))throw new Error((e=>`Invalid value for key ${e}`)(i));const c={keyId:Y(i),pattern:o};return n&&(c.searcher=ve(o,t)),c}let o={children:[],operator:s[0]};return s.forEach((t=>{const n=e[t];W(n)&&n.forEach((e=>{o.children.push(i(e))}))})),o};return _e(e)||(e=be(e)),i(e)}function we(e,t){const n=e.matches;t.matches=[],z(n)&&n.forEach((e=>{if(!z(e.indices)||!e.indices.length)return;const{indices:n,value:i}=e;let s={indices:n,value:i};e.key&&(s.key=e.key.src),e.idx>-1&&(s.refIndex=e.idx),t.matches.push(s)}))}function Se(e,t){t.score=e.score}class Ce{constructor(e,t={},n){this.options={...Z,...t},this.options.useExtendedSearch,this._keyStore=new B(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof te))throw new Error("Incorrect 'index' type");this._myIndex=t||ne(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){z(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=(()=>!1)){const t=[];for(let n=0,i=this._docs.length;n<i;n+=1){const s=this._docs[n];e(s,n)&&(this.removeAt(n),n-=1,i-=1,t.push(s))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:i,shouldSort:s,sortFn:r,ignoreFieldNorm:o}=this.options;let c=P(e)?P(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=Z.ignoreFieldNorm}){e.forEach((e=>{let n=1;e.matches.forEach((({key:e,norm:i,score:s})=>{const r=e?e.weight:null;n*=Math.pow(0===s&&r?Number.EPSILON:s,(r||1)*(t?1:i))})),e.score=n}))}(c,{ignoreFieldNorm:o}),s&&c.sort(r),H(t)&&t>-1&&(c=c.slice(0,t)),function(e,t,{includeMatches:n=Z.includeMatches,includeScore:i=Z.includeScore}={}){const s=[];return n&&s.push(we),i&&s.push(Se),e.map((e=>{const{idx:n}=e,i={item:t[n],refIndex:n};return s.length&&s.forEach((t=>{t(e,i)})),i}))}(c,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(e){const t=ve(e,this.options),{records:n}=this._myIndex,i=[];return n.forEach((({v:e,i:n,n:s})=>{if(!z(e))return;const{isMatch:r,score:o,indices:c}=t.searchIn(e);r&&i.push({item:e,idx:n,matches:[{score:o,value:e,norm:s,indices:c}]})})),i}_searchLogical(e){const t=Ie(e,this.options),n=(e,t,i)=>{if(!e.children){const{keyId:n,searcher:s}=e,r=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:s});return r&&r.length?[{idx:i,item:t,matches:r}]:[]}const s=[];for(let r=0,o=e.children.length;r<o;r+=1){const o=e.children[r],c=n(o,t,i);if(c.length)s.push(...c);else if(e.operator===xe)return[]}return s},i=this._myIndex.records,s={},r=[];return i.forEach((({$:e,i:i})=>{if(z(e)){let o=n(t,e,i);o.length&&(s[i]||(s[i]={idx:i,item:e,matches:[]},r.push(s[i])),o.forEach((({matches:e})=>{s[i].matches.push(...e)})))}})),r}_searchObjectList(e){const t=ve(e,this.options),{keys:n,records:i}=this._myIndex,s=[];return i.forEach((({$:e,i:i})=>{if(!z(e))return;let r=[];n.forEach(((n,i)=>{r.push(...this._findMatches({key:n,value:e[i],searcher:t}))})),r.length&&s.push({idx:i,item:e,matches:r})})),s}_findMatches({key:e,value:t,searcher:n}){if(!z(t))return[];let i=[];if(W(t))t.forEach((({v:t,i:s,n:r})=>{if(!z(t))return;const{isMatch:o,score:c,indices:a}=n.searchIn(t);o&&i.push({score:c,key:e,value:t,idx:s,norm:r,indices:a})}));else{const{v:s,n:r}=t,{isMatch:o,score:c,indices:a}=n.searchIn(s);o&&i.push({score:c,key:e,value:s,norm:r,indices:a})}return i}}function Ae(e){return"function"==typeof e?e():r(e)}function $e(e,t,n){const r=()=>{var e,i;return new Ce(null!=(e=Ae(t))?e:[],null==(i=Ae(n))?void 0:i.fuseOptions)},c=i(r());s((()=>{var e;return null==(e=Ae(n))?void 0:e.fuseOptions}),(()=>{c.value=r()}),{deep:!0}),s((()=>Ae(t)),(e=>{c.value.setCollection(e)}),{deep:!0});const a=o((()=>{const i=Ae(n);if((null==i?void 0:i.matchAllWhenSearchEmpty)&&!Ae(e))return Ae(t).map(((e,t)=>({item:e,refIndex:t})));const s=null==i?void 0:i.resultLimit;return c.value.search(Ae(e),s?{limit:s}:void 0)}));return{fuse:c,results:a}}Ce.version="6.6.2",Ce.createIndex=ne,Ce.parseIndex=function(e,{getFn:t=Z.getFn,fieldNormWeight:n=Z.fieldNormWeight}={}){const{keys:i,records:s}=e,r=new te({getFn:t,fieldNormWeight:n});return r.setKeys(i),r.setIndexRecords(s),r},Ce.config=Z,Ce.parseQuery=Ie,function(...e){ye.push(...e)}(me),"undefined"!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope);t("_",c({__name:"HistoryTextarea",props:{modelValue:{},label:{},inputId:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=t,s=e,c=R(s.inputId),F=i(!1),j=i(void 0),N=i(""),W=/\n|\.|;/,O=o((()=>{var e;return(null===(e=N.value.split(W).pop())||void 0===e?void 0:e.trim())||""})),{results:V}=$e(O,c.entries,{matchAllWhenSearchEmpty:!0});function P(e){"save"===e.detail.role&&(n("update:modelValue",N.value),c.add(...N.value.split(W))),F.value=!1}function H(){N.value=s.modelValue}function q(e){N.value=N.value.slice(0,-O.value.length||void 0)+e,j.value.$el.setFocus()}return(e,t)=>(a(),l(k,null,[h(r(u),{"auto-grow":"",label:e.label,"label-placement":"floating",value:e.modelValue,onClick:t[0]||(t[0]=e=>F.value=!0)},null,8,["label","value"]),h(E,{"is-open":F.value,onWillDismiss:P,onDidPresent:t[4]||(t[4]=e=>j.value.$el.setFocus()),onWillPresent:H,"icon-save":r(_)},{default:d((()=>[h(r(u),{ref_key:"input",ref:j,"auto-grow":"",label:e.label,"label-placement":"stacked",modelValue:N.value,"onUpdate:modelValue":t[2]||(t[2]=e=>N.value=e),onKeydown:t[3]||(t[3]=f(g((e=>q(r(V)[0].item)),["prevent"]),["tab"]))},{default:d((()=>[h(r(p),{slot:"end",fill:"clear",onClick:t[1]||(t[1]=t=>{console.log(N.value,e.modelValue),N.value=e.modelValue})},{default:d((()=>[h(r(m),{slot:"icon-only",icon:r(y)},null,8,["icon"])])),_:1})])),_:1},8,["label","modelValue"]),v(" "+x(O.value)+" ",1),h(r(M),{ref:"slidingList"},{default:d((()=>[(a(!0),l(k,null,L(r(V),((e,t)=>(a(),$(r(b),{key:e.item,ref_for:!0,ref:"slidingItem"},{default:d((()=>[h(r(I),{onClick:t=>q(e.item)},{default:d((()=>[h(r(w),null,{default:d((()=>[v(x(e.item),1)])),_:2},1024)])),_:2},1032,["onClick"]),h(r(S),{side:"end"},{default:d((()=>[h(r(C),{color:"danger",onClick:t=>{return n=e.item,c.remove(n);var n}},{default:d((()=>[h(r(m),{icon:r(A),slot:"end"},null,8,["icon"]),v(" Löschen ")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:1},512)])),_:1},8,["is-open","icon-save"])],64))}}))}}}))}();
