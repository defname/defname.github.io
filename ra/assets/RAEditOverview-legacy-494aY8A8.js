System.register(["./index-legacy-vPsYnNYj.js","./riskassessment-legacy-1kgBjfj1.js","./livequery-legacy-QwkGh-nt.js","./TemplateRiskAssessmentPage-legacy-BWtOkuZa.js","./helpers-legacy-vClYv2vc.js","./liveriskstree-legacy-SUlVSXNX.js"],(function(e,n){"use strict";var l,t,a,s,i,o,r,d,c,u,k,g,m,y,h,f,p,b,_,v,w,x,E,j,z,D,S,V,A,R,T,C,F,G,N,P,U,q,B,I;return{setters:[e=>{l=e.d,t=e.o,a=e.c,s=e.f,i=e.V,o=e.n,r=e.e,d=e.W,c=e.U,u=e.w,k=e.b,g=e.h,m=e.j,y=e.r,h=e.X,f=e.l,p=e.D,b=e.Y,_=e.N,v=e.Z,w=e.$,x=e.a0,E=e.i,j=e.a1,z=e.g,D=e.F,S=e.a2,V=e.a3,A=e.t,R=e.a4,T=e.a5,C=e.I,F=e.a6,G=e.a7,N=e.a,P=e._},e=>{U=e.u,q=e.a},e=>{B=e.l},e=>{I=e.T},null,null],execute:function(){var n=document.createElement("style");n.textContent=".label[data-v-c408a042]{margin-bottom:10px}.nested-list[data-v-c408a042]{background:transparent;width:100%;padding:0;margin:0}.nested-list-item[data-v-c408a042]{background:transparent;padding:0;margin:0;border:0}\n",document.head.appendChild(n);const H=l({__name:"Checkmark",props:{condition:Boolean,notEmpty:String,notNull:Number},setup:e=>(e,n)=>(t(),a(s(o),{slot:"end",icon:s(i)},null,8,["icon"]))}),M=(e=>(F("data-v-c408a042"),e=e(),G(),e))((()=>N("ul",{class:"nested-list",lines:"none"},[N("li",{class:"ion-no-padding ion-no-margin nested-list-item",lines:"none"},"TEst"),N("li",{class:"ion-no-padding ion-no-margin nested-list-item",lines:"none"},"TEst")],-1))),O={key:1,class:"nested-list ion-no-padding",lines:"none"},W={class:"ion-no-padding ion-no-margin nested-list-item",lines:"none",size:"small"};e("default",P(l({__name:"RAEditOverview",setup(e){const n=B.table("technicians"),l=U(),i=r((()=>n.isReady().value?l.technicians.map((e=>n.get(e))):[])),F="/riskassessment/"+l.id,G=q(),N=d({direct:-1,all:-1,solved:-1});return c(G,(async()=>{await l.ready,N.direct=l.risks.length;const e=await l.calcAllRisks();N.all=e.length,N.solved=e.filter((e=>void 0!==l.measures[e]&&l.measures[e].length>0)).length})),(e,n)=>(t(),a(I,null,{default:u((()=>[k(s(C),{lines:"full"},{default:u((()=>[k(s(g),null,{default:u((()=>[m(" Allgemeines ")])),_:1}),k(s(y),null,{default:u((()=>[k(s(o),{slot:"start",icon:s(h)},null,8,["icon"]),s(l).company?(t(),a(H,{key:0})):f("",!0),k(s(p),{label:"Ausführende Firma","label-placement":"floating",modelValue:s(l).company,"onUpdate:modelValue":n[0]||(n[0]=e=>s(l).company=e)},null,8,["modelValue"])])),_:1}),k(s(y),null,{default:u((()=>[k(s(o),{slot:"start",icon:s(b)},null,8,["icon"]),s(l).jobDescr?(t(),a(H,{key:0})):f("",!0),k(s(_),{label:"Beschreibung der Tätigkeit","label-placement":"floating","auto-grow":"",modelValue:s(l).jobDescr,"onUpdate:modelValue":n[1]||(n[1]=e=>s(l).jobDescr=e)},null,8,["modelValue"])])),_:1}),k(s(y),null,{default:u((()=>[k(s(o),{slot:"start",icon:s(v)},null,8,["icon"]),s(l).address?(t(),a(H,{key:0})):f("",!0),k(s(p),{"router-link":F+"/location",label:"Addresse","label-placement":"floating",readonly:"",value:s(l).address},null,8,["router-link","value"])])),_:1}),k(s(y),null,{default:u((()=>[k(s(o),{slot:"start",icon:s(w)},null,8,["icon"]),s(l).startDate?(t(),a(H,{key:0})):f("",!0),k(s(p),{"router-link":F+"/date",label:"Datum","label-placement":"floating",readonly:"",value:s(l).startDate+(s(l).endDate?" - "+s(l).endDate:"")},null,8,["router-link","value"])])),_:1}),k(s(y),null,{default:u((()=>[k(s(o),{slot:"start",icon:s(x)},null,8,["icon"]),s(l).equipment?(t(),a(H,{key:0})):f("",!0),k(s(E),{position:"stacked",style:{"z-index":"10"},class:"label"},{default:u((()=>[m("Ausrüstung")])),_:1}),M])),_:1}),k(s(y),{"router-link":F+"/technicians",detail:!1},{default:u((()=>[k(s(o),{slot:"start",icon:s(j)},null,8,["icon"]),s(l).technicians.length>0?(t(),a(H,{key:0})):f("",!0),k(s(E),{position:"stacked",style:{"z-index":"10"},class:"label"},{default:u((()=>[m("Personal")])),_:1}),s(l).technicians.length>0?(t(),z("ul",O,[(t(!0),z(D,null,S(i.value,(e=>(t(),z("li",W,A(e.name),1)))),256))])):(t(),z(D,{key:2},[m(" Es wurde noch kein Personal ausgewählt ")],64))])),_:1},8,["router-link"]),k(s(y),{"router-link":F+"/access",detail:!1},{default:u((()=>[k(s(o),{slot:"start",icon:s(V)},null,8,["icon"]),s(l).access.length>0?(t(),a(H,{key:0})):f("",!0),k(s(E),{position:"stacked",style:{"z-index":"10"},class:"label"},{default:u((()=>[m("Sektoren")])),_:1}),0===s(l).access.length?(t(),z(D,{key:1},[m("Es wurden noch keine Sektoren definiert")],64)):1===s(l).access.length?(t(),z(D,{key:2},[m("Es wurde ein Sektoren definiert")],64)):(t(),z(D,{key:3},[m("Es wurden bisher "+A(s(l).access.length)+" Sektoren definiert",1)],64))])),_:1},8,["router-link"]),k(s(y),{"router-link":F+"/rescue",detail:!1},{default:u((()=>[k(s(o),{slot:"start",icon:s(R)},null,8,["icon"]),s(l).access.length>0?(t(),a(H,{key:0})):f("",!0),k(s(E),{position:"stacked",style:{"z-index":"10"},class:"label"},{default:u((()=>[m("Rettungskonzept")])),_:1}),0===s(l).access.length?(t(),z(D,{key:1},[m("Es wurden noch keine Sektoren definiert")],64)):(t(),z(D,{key:2},[m("Für "+A(s(l).access.filter((e=>e.rescue)).length)+" Sektoren existiert ein Rettungskonzept",1)],64))])),_:1},8,["router-link"]),k(s(y),{"router-link":F+"/risks",detail:!1},{default:u((()=>[k(s(o),{slot:"start",icon:s(T)},null,8,["icon"]),s(l).access.length>0?(t(),a(H,{key:0})):f("",!0),k(s(E),{position:"stacked",style:{"z-index":"10"},class:"label"},{default:u((()=>[m("Gefährdungen")])),_:1}),0===s(l).risks.length?(t(),z(D,{key:1},[m("Es wurden noch keine Gefährdungen hinzugefügt")],64)):(t(),z(D,{key:2},[m(" Von insgesamt "+A(N.all)+" sind für "+A(N.solved)+" Maßnahmen angegeben. ",1)],64))])),_:1},8,["router-link"])])),_:1})])),_:1}))}}),[["__scopeId","data-v-c408a042"]]))}}}));
