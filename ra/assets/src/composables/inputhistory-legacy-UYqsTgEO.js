!function(){function t(t,e,r){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:String(i))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}System.register(["./database-legacy-9fIx2aCc.js","./livequery-legacy-cKPslJOc.js","../../vendor-legacy-1yjrExH1.js"],(function(e,r){"use strict";var i,n,u,s;return{setters:[t=>{i=t.d},t=>{n=t.l},t=>{u=t.t,s=t.v}],execute:function(){e("u",(function(t){return new o(t)}));const r=n.table("inputhistory");class o{constructor(e){t(this,"inputId",void 0),t(this,"entries",void 0),this.inputId=e,this.entries=u([]),s([r.updated()],(()=>{console.log("InputHistory updated"),this.updateHistory()})),r.ready().then((()=>{this.updateHistory()}))}updateHistory(){r.isReady().value&&(this.entries.value=r.entries().filter((t=>t.inputId===this.inputId)).map((t=>t.text)))}add(...t){o.bulkAdd(...t.map((t=>({inputId:this.inputId,text:t})))).catch((t=>{console.error(t)}))}remove(t){return i.inputhistory.where("inputId").equals(this.inputId).and((e=>e.text.toLowerCase()===t.trim().toLowerCase())).delete()}static bulkAddFromObject(t,e){let r=[];for(let i in t){const n="string"==typeof t[i]?e[t[i]]:t[i](e);"string"==typeof n?r.push({inputId:i,text:n.trim()}):Array.isArray(n)?r.push(...n.map((t=>({inputId:i,text:t.trim()})))):console.warn("WHHAATT")}return o.bulkAdd(...r)}static bulkAdd(...t){const e=t.filter((t=>""!==t.text.trim())).map((t=>({...t,text:t.text.trim()})));return e.forEach((t=>{i.inputhistory.where("inputId").equals(t.inputId).and((e=>e.text.toLowerCase()===t.text.toLowerCase())).delete()})),i.inputhistory.bulkAdd(e)}}}}}))}();
