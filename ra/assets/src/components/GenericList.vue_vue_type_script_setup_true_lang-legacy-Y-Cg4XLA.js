System.register(["../../vendor-legacy-1yjrExH1.js","../composables/helpers-legacy-9syT91eV.js"],(function(e,l){"use strict";var t,n,i,o,d,a,u,s,c,r,f,m,v,p,y,g,V,_,k,h,b,F,S,D,w,C,x;return{setters:[e=>{t=e.y,n=e.a9,i=e.aa,o=e.x,d=e.t,a=e.C,u=e.D,s=e.E,c=e.$,r=e.J,f=e.L,m=e.M,v=e.u,p=e.V,y=e.ab,g=e.W,V=e.X,_=e.Q,k=e.O,h=e.F,b=e.ac,F=e.ad,S=e.T,D=e.N,w=e.ae},e=>{C=e.a,x=e.p}],execute:function(){e("_",t({__name:"GenericList",props:{entries:{type:Array,required:!0,readonly:!0},deleteFunction:Function,filter:{type:Function,default:()=>!0},setup:{type:Function,default:e=>e},messageDeleteSuccess:{type:String,default:"Löschen erfolgreich"},messagReallyDelete:{type:Function,default:()=>"Wirklich löschen?"},iconAdd:{type:String,default:n},iconRemove:{type:String,default:i},modelValue:{type:Array,default:void 0},inverted:Boolean,forbidEditing:Boolean,forbidDeletion:Boolean},emits:["update:modelValue"],setup(e,{expose:l,emit:t}){const n=e,i=t,L=o((()=>n.entries.filter((e=>n.filter(e))).map((e=>n.setup(e))))),A=d(null);l({editId:d(void 0)});const I=o((()=>void 0===n.modelValue?L.value:L.value.filter((e=>{var l;return(null===(l=n.modelValue)||void 0===l?void 0:l.includes(e.id))===n.inverted}))));async function E(e){if(void 0===e.id)return;const l={text:"Löschen",role:"destructive",icon:w,handler:(t=e.id,()=>{!async function(e){void 0!==n.deleteFunction?n.deleteFunction(e).then((()=>{void 0!==n.modelValue&&i("update:modelValue",n.modelValue.filter((l=>l!==e))),x(n.messageDeleteSuccess,"success")})).catch((e=>(console.log(e),e))):console.warn("Delete function was called but is undefined")}(t)})};var t;null!==A.value&&A.value.$el.closeSlidingItems(),await C(n.messagReallyDelete(e),l)}function R(e){void 0!==n.modelValue&&(n.inverted?i("update:modelValue",n.modelValue.filter((l=>l!==e))):i("update:modelValue",[...n.modelValue,e]))}return(l,t)=>(a(),u(v(p),{ref_key:"slidingList",ref:A},{default:s((()=>[c(l.$slots,"header"),(a(!0),r(m,null,f(I.value,((t,n)=>(a(),u(v(y),{key:t.id,ref_for:!0,ref:"slidingItem"},{default:s((()=>[c(l.$slots,"default",{object:t},(()=>[h(v(g),null,{default:s((()=>[h(v(V),null,{default:s((()=>[k(_(t),1)])),_:2},1024)])),_:2},1024)])),e.forbidEditing||void 0===e.modelValue?D("",!0):(a(),u(v(b),{key:0,side:"start",onIonSwipe:e=>R(t.id)},{default:s((()=>[e.inverted?(a(),u(v(F),{key:1,color:"warning",onClick:e=>R(t.id),expandable:""},{default:s((()=>[h(v(S),{icon:e.iconRemove,slot:"start"},null,8,["icon"]),k(" Enfernen ")])),_:2},1032,["onClick"])):(a(),u(v(F),{key:0,color:"success",onClick:e=>R(t.id),expandable:""},{default:s((()=>[h(v(S),{icon:e.iconAdd,slot:"start"},null,8,["icon"]),k(" Auswählen ")])),_:2},1032,["onClick"]))])),_:2},1032,["onIonSwipe"])),e.forbidDeletion||void 0===e.deleteFunction?D("",!0):(a(),u(v(b),{key:1,side:"end"},{default:s((()=>[h(v(F),{color:"danger",onClick:e=>E(t)},{default:s((()=>[h(v(S),{icon:v(w),slot:"end"},null,8,["icon"]),k(" Löschen ")])),_:2},1032,["onClick"])])),_:2},1024))])),_:2},1024)))),128))])),_:3},512))}}))}}}));
