System.register(["./Map-legacy-29agKFiw.js","../../vendor-legacy-1yjrExH1.js"],(function(e,s){"use strict";var t,a,o;return{setters:[e=>{t=e.M},e=>{a=e.aj,o=e.ak}],execute:function(){e("_",{components:{Map:t,IonSearchbar:a},emits:["update:modelValue"],props:{modelValue:String},data:()=>({address:"",results:[],locateIcon:o}),watch:{address(e){this.$emit("update:modelValue",e)},modelValue(e){e!==this.address&&(this.address=e,this.search(e))}},methods:{setAddress(e){this.address=this.$refs.map.displayName(e,!0)},onSearch(e){console.log(),this.$emit("update:modelValue",e.detail.value),this.search(e.detail.value)},search(e){fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(e)}&format=geojson&countrycodes=de`).then((e=>e.json())).then((e=>{console.log(e),this.results=e.features}))}},mounted(){this.modelValue&&(this.address=this.modelValue,this.search(this.address))}})}}}));
