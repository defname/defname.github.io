System.register(["../../vendor-legacy-1yjrExH1.js","../../async-vendor-legacy-K7_Bgj6n.js","../composables/helpers-legacy-9syT91eV.js","../composables/riskassessment-legacy--cfx1kYn.js"],(function(e,t){"use strict";var n,a,i,l,o,s,r,c,u,d,v,f,p,h,g,m,y,w,_,k,L,b,x,S,z,j,E,D,T,C;return{setters:[e=>{n=e.y,a=e.t,i=e.v,l=e.aZ,o=e.a_,s=e.u,r=e.C,c=e.J,u=e.M,d=e.F,v=e.E,f=e.a$,p=e.T,h=e.b0,g=e.b1,m=e.S,y=e.N,w=e.P,_=e.D,k=e.L,L=e.b2,b=e.O,x=e.b3,S=e.b4,z=e.b5,j=e.Q},e=>{E=e.i,D=e.j},e=>{T=e.p},e=>{C=e.S}],execute:function(){const t={id:"canvas-outer-wrapper"},U={id:"canvas-inner-wrapper"},V={key:0,class:"ion-padding"};e("_",n({__name:"SignatureInput",props:{techniciansList:{}},emits:["signature"],setup(e,{expose:n,emit:B}){const H=B,I=e;n({updateDimensions:N});const W=a(-1);i(W,(()=>{N()}));const Z=a(void 0),A=a(300),F=a(200),G=a(""),{isSupported:J,orientation:M}=E();function N(){A.value=100,F.value=100,setTimeout((()=>{const e=document.getElementById("canvas-inner-wrapper");if(!Z||!e)return;let[t,n]=[e.clientWidth,e.clientHeight];A.value=t-20,F.value=n-20,Q()}),100)}const O=()=>{var e;const t=new Date(Date.now()),n=null===(e=I.techniciansList)||void 0===e?void 0:e.find((e=>e.id===W.value));return n?n.name+", "+t.toLocaleString("de"):t.toLocaleString("de")},P=a({}),Q=()=>{P.value={type:"Text",source:O(),x:22,y:22,imageStyle:{},fontStyle:{lineHeight:48,color:"#333333",font:"12px serif",drawType:"fill",textAlign:"left",textBaseline:"top"}}};function $(){N(),Z.value.reset()}function q(){H("signature",new C(G.value),-1!==W.value?W.value:void 0),T("Unterschrift hinzugefÃ¼gt.","success"),Z.value.reset()}return l((()=>{N(),window.addEventListener("resize",N),window.addEventListener("orientationchange",N)})),o((()=>{window.removeEventListener("resize",N),window.removeEventListener("orientationchange",N)})),(e,n)=>"landscape-primary"===s(M)||"landscape-secondary"===s(M)?(r(),c(u,{key:0},[-1!==W.value||void 0===e.techniciansList?(r(),c(u,{key:0},[d(s(g),{slot:"fixed",horizontal:"start",vertical:"top"},{default:v((()=>[d(s(f),{onClick:$},{default:v((()=>[d(s(p),{icon:s(h)},null,8,["icon"])])),_:1})])),_:1}),d(s(g),{slot:"fixed",horizontal:"end",vertical:"top"},{default:v((()=>[d(s(f),{onClick:q},{default:v((()=>[d(s(f),null,{default:v((()=>[d(s(p),{icon:s(m)},null,8,["icon"])])),_:1})])),_:1})])),_:1})],64)):y("",!0),w("div",t,[w("div",U,[-1!==W.value||void 0===e.techniciansList?(r(),_(s(D),{key:0,image:G.value,"onUpdate:image":n[0]||(n[0]=e=>G.value=e),class:"canvas",ref_key:"canvas",ref:Z,width:A.value,watermark:P.value,height:F.value,"background-color":"#ffffff"},null,8,["image","width","watermark","height"])):y("",!0)]),void 0!==e.techniciansList?(r(),c("div",V,[d(s(L),{interface:"action-sheet",modelValue:W.value,"onUpdate:modelValue":n[1]||(n[1]=e=>W.value=e),placeholder:"Wer soll unterzeichnen?"},{default:v((()=>[(r(!0),c(u,null,k(e.techniciansList,(e=>(r(),_(s(z),{key:e.id,value:e.id},{default:v((()=>[b(j(e.name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])):y("",!0)])],64)):(r(),_(s(S),{key:1},{default:v((()=>[d(s(x),null,{default:v((()=>[b(" Zum unterzeichnen GerÃ¤t drehen ")])),_:1})])),_:1}))}}))}}}));
