import{y as M,t as d,C as m,J as v,F as n,u as e,Z as I,E as s,af as W,ag as w,_ as B,T as k,ah as E,V as H,M as V,L as S,S as _,ab as O,W as P,X as G,Q as K,O as b,ac as N,ad as T,ae as h,D as A}from"../../vendor-fe-4Mo55.js";import{G as J}from"./GenericEditModal-0xE-bflg.js";import{u as Q}from"../composables/inputhistory-tJaetQEq.js";import{u as R}from"../../async-vendor-gRlujhSQ.js";const z=M({__name:"HistoryInput",props:{modelValue:{},label:{},inputId:{}},emits:["update:modelValue"],setup(y,{emit:C}){const g=C,p=y,i=Q(p.inputId),u=d(void 0),r=d(!1),a=d(""),{results:f}=R(a,i.entries,{matchAllWhenSearchEmpty:!0});function $(l){l.detail.role==="save"&&(g("update:modelValue",a.value),i.add(a.value)),r.value=!1}function F(){a.value=p.modelValue}function L(l){return i.remove(l)}function c(l){a.value=l,u.value.$el.setFocus()}return(l,o)=>(m(),v(V,null,[n(e(I),{label:l.label,"label-placement":"floating",value:l.modelValue,onClick:o[0]||(o[0]=t=>r.value=!0)},null,8,["label","value"]),n(J,{"is-open":r.value,onWillDismiss:$,onDidPresent:o[4]||(o[4]=t=>u.value.$el.setFocus()),onWillPresent:F,"icon-save":e(_)},{default:s(()=>[n(e(I),{ref_key:"input",ref:u,label:l.label,"label-placement":"stacked",modelValue:a.value,"onUpdate:modelValue":o[2]||(o[2]=t=>a.value=t),onKeydown:o[3]||(o[3]=W(w(t=>c(e(f)[0].item),["prevent"]),["tab"]))},{default:s(()=>[n(e(B),{slot:"end",fill:"clear",onClick:o[1]||(o[1]=t=>{console.log(a.value,l.modelValue),a.value=l.modelValue})},{default:s(()=>[n(e(k),{slot:"icon-only",icon:e(E)},null,8,["icon"])]),_:1})]),_:1},8,["label","modelValue"]),n(e(H),{ref:"slidingList"},{default:s(()=>[(m(!0),v(V,null,S(e(f),(t,U)=>(m(),A(e(O),{key:t.item,ref_for:!0,ref:"slidingItem"},{default:s(()=>[n(e(P),{onClick:D=>c(t.item)},{default:s(()=>[n(e(G),null,{default:s(()=>[b(K(t.item),1)]),_:2},1024)]),_:2},1032,["onClick"]),n(e(N),{side:"end"},{default:s(()=>[n(e(T),{color:"danger",onClick:D=>L(t.item)},{default:s(()=>[n(e(k),{icon:e(h),slot:"end"},null,8,["icon"]),b(" LÃ¶schen ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1},512)]),_:1},8,["is-open","icon-save"])],64))}});export{z as _};
