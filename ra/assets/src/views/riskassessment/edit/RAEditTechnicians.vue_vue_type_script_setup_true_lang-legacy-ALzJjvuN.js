System.register(["../../../../vendor-legacy-1yjrExH1.js","../../../components/TechniciansList.vue_vue_type_script_setup_true_lang-legacy-1BA4nGzp.js","../../../composables/riskassessment-legacy--cfx1kYn.js","../../../composables/livequery-legacy-cKPslJOc.js","../../../components/TemplateRiskAssessmentPage-legacy-u2VvndrO.js"],(function(e,l){"use strict";var t,a,s,n,i,u,c,o,r,d,v,f,m,_,p,b,y,g,h,j,k,V,T,q,x,C,w;return{setters:[e=>{t=e.y,a=e.x,s=e.t,n=e.aD,i=e.C,u=e.D,c=e.E,o=e.F,r=e.u,d=e.br,v=e.X,f=e.O,m=e.bs,_=e.Q,p=e.a0,b=e.N,y=e.W,g=e.J,h=e.a$,j=e.T,k=e.aK,V=e.b1,T=e.M},e=>{q=e._},e=>{x=e.u},e=>{C=e.l},e=>{w=e.T}],execute:function(){e("_",t({__name:"RAEditTechnicians",setup(e){const l=x(),t=a((()=>C.table("technicians").isReady().value?l.technicians.map((e=>C.table("technicians").get(e))):[])),A=s("selected");return["selected","available"].includes(n().query.segment)&&(A.value=n().query.segment),(e,a)=>(i(),u(w,null,{default:c((()=>[o(r(m),{value:A.value,onIonChange:a[0]||(a[0]=l=>{A.value=l.detail.value,e.$router.replace({query:{segment:l.detail.value}})})},{default:c((()=>[o(r(d),{value:"selected"},{default:c((()=>[o(r(v),null,{default:c((()=>[f("Ausgewählt")])),_:1})])),_:1}),o(r(d),{value:"available"},{default:c((()=>[o(r(v),null,{default:c((()=>[f("Verfügbar")])),_:1})])),_:1})])),_:1},8,["value"]),"selected"===A.value?(i(),u(q,{key:0,entries:t.value,modelValue:r(l).technicians,"onUpdate:modelValue":a[1]||(a[1]=e=>r(l).technicians=e),inverted:"","forbid-deletion":""},{default:c((e=>[o(r(y),null,{default:c((()=>[o(r(v),null,{default:c((()=>[f(_(e.object.name),1)])),_:2},1024),e.object.fisat?(i(),u(r(p),{key:0,slot:"end",color:3===e.object.fisat.level?"tertiary":"medium",onClick:t=>function(e){if(void 0===e.id)return void console.warn("Technician ID is undefined");if(!e.fisat||3!==e.fisat.level)return;const t=l.supervisors.indexOf(e.id);console.log(t),-1!==t?l.supervisors.splice(t,1):l.supervisors.push(e.id)}(e.object)},{default:c((()=>[f(" Level "+_(e.object.fisat.level),1)])),_:2},1032,["color","onClick"])):b("",!0),r(l).supervisors.includes(e.object.id)?(i(),u(r(p),{key:1,slot:"start"},{default:c((()=>[f("Supervisor")])),_:1})):b("",!0)])),_:2},1024)])),_:1},8,["entries","modelValue"])):(i(),g(T,{key:1},[o(r(V),{slot:"fixed",vertical:"bottom",horizontal:"end"},{default:c((()=>[o(r(h),{"router-link":"/technicians/new"},{default:c((()=>[o(r(j),{icon:r(k)},null,8,["icon"])])),_:1})])),_:1}),o(q,{modelValue:r(l).technicians,"onUpdate:modelValue":a[2]||(a[2]=e=>r(l).technicians=e)},null,8,["modelValue"])],64))])),_:1}))}}))}}}));
