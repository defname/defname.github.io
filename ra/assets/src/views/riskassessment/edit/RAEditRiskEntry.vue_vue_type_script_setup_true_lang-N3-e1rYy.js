import{y,aD as I,x as V,C as f,D as c,E as s,u as e,J as M,F as r,W as g,X as p,O as l,Q as m,P as R,am as b,N as _,ai as B,V as A,Y as N,_ as T,M as v}from"../../../../vendor-fe-4Mo55.js";import{u as x}from"../../../composables/riskassessment-yedfBpr3.js";import{l as h}from"../../../composables/liveriskstree-iM3KwOgD.js";import{l as C}from"../../../composables/livequery-P21yeuae.js";import{_ as E}from"../../../components/MeasureCatalog.vue_vue_type_script_setup_true_lang-WQu6SpiS.js";import{_ as L}from"../../../components/AddedByList.vue_vue_type_script_setup_true_lang-6igqA112.js";import{T as w}from"../../../components/TemplateRiskAssessmentPage-jWM7FwVS.js";const D={style:{"font-size":"1.2rem","margin-bottom":"0.3rem"}},K=y({__name:"RAEditRiskEntry",setup($){const a=x(),i=C.table("measures"),t=parseInt(I().params.riskId),o=h.getAsRef(t),k=V(()=>{if(!i.isReady().value)return[];a.getMeasures(t).map(u=>i.get(u))});return a.getMeasures(t),(u,n)=>(f(),c(w,null,{default:s(()=>[e(o)&&e(a).isReady&&e(i).isReady()?(f(),M(v,{key:0},[r(e(A),{lines:"none"},{default:s(()=>[r(e(g),{class:"ion-margin-bottom"},{default:s(()=>[r(e(p),{position:"stacked"},{default:s(()=>[l(m(e(o).factor.category.descr)+" ➤ "+m(e(o).factor.descr),1)]),_:1}),R("p",D,m(e(o).descr),1),e(a).getMeta(e(t)).addedBy.length>0?(f(),c(e(b),{key:0},{default:s(()=>[r(L,{"trigger-list":e(a).getMeta(e(t)).addedBy},null,8,["trigger-list"])]),_:1})):_("",!0)]),_:1}),r(e(g),null,{default:s(()=>[l(m(e(a).getMeta(e(t)))+" ",1),r(e(B),{label:"Kommentar","auto-grow":"","label-placement":"floating",modelValue:e(a).getMeta(e(t)).comment,"onUpdate:modelValue":n[0]||(n[0]=d=>e(a).getMeta(e(t)).comment=d)},null,8,["modelValue"])]),_:1})]),_:1}),r(E,{modelValue:e(a).measures[e(t)],"onUpdate:modelValue":n[1]||(n[1]=d=>e(a).measures[e(t)]=d),entries:k.value,inverted:""},{header:s(()=>[r(e(N),null,{default:s(()=>[r(e(p),null,{default:s(()=>[l("Ausgewählte Maßnahmen")]),_:1}),r(e(T),{"router-link":u.$route.path+"/addmeasures"},{default:s(()=>[l("Hinzufügen")]),_:1},8,["router-link"])]),_:1})]),_:1},8,["modelValue","entries"])],64)):_("",!0)]),_:1}))}});export{K as _};
