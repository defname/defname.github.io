import{d as E,x as H,o as t,c as L,w as h,b as m,j as a,f as l,k,H as M,J as v,K as w,a as e,t as r,g as s,l as _,R as c,F as u,G as x}from"./index-muNgIfzJ.js";import{u as C,b as D}from"./riskassessment-AvzWmFVn.js";import{S as g}from"./helpers-e_Ur4xMk.js";import{T as z}from"./TemplateRiskAssessmentPage-IVg6Q1cO.js";import"./livequery-Qd0KOr-e.js";import"./liveriskstree-QMkjSvnr.js";const B={id:"print"},G=e("h1",null,"Einsatzplanung",-1),I=e("p",null," Es wird grundsätzlich nach den geltenden Regeln und Vorschriften der DGUV, dem Arbeitsschutzgesetz, der BetrSichV, den TRBS und der FISAT FSR-SZP gearbeitet. ",-1),R=e("strong",null,"Ausführende Firma:",-1),N=e("strong",null,"Einsatzdatum:",-1),V=e("strong",null,"Einsatzort:",-1),F=e("strong",null,"Durchzuführende Arbeiten:",-1),j=e("br",null,null,-1),P={key:0},S=e("strong",null,"Aufsichtsführende Höhenarbeiter:",-1),$=e("p",null,[e("strong",null,"Höhenarbeiter:")],-1),Z=e("thead",null,[e("tr",null,[e("th",null,"Name"),e("th",null,"FISAT-Nr"),e("th",null,"Level")])],-1),U=e("strong",null,"Ausrüstung:",-1),q=e("h2",null,"Zugangsverfahren",-1),J={key:0},K=e("strong",null,"Einstieg:",-1),W=["innerHTML"],O={key:1},Q=e("strong",null,"Ausstieg:",-1),X=["innerHTML"],Y={key:2},ee=e("strong",null,"Anschlagpunkte:",-1),ne=["innerHTML"],te=["innerHTML"],se=e("h2",null,"Notfall- und Rettungsplan",-1),le=["innerHTML"],re=e("h1",null,"Gefährdungsermittlung",-1),ue={key:0},oe={key:1},ie={key:2},ae=e("thead",null,[e("tr",null,[e("th",null,"Gefährdung"),e("th",null,"Maßnahme")])],-1),de={colspan:"2"},ce={class:"factor"},he={key:0},_e=e("h1",null,"Empfangsbestätigung",-1),pe=e("p",null," Es wird bestätigt, über Gefahren und Maßnahmen aufgeklärt worden zu sein. ",-1),me=["src"],Ee=E({__name:"RiskAssessmentExport",setup(ge){const b=C(),o=D();H("");function A(f){const d=window.open("","print","");if(!d)return;d.open(),d.document.write('<html>\n    <head>\n        <link rel="stylesheet" href="/ra/print.css" />\n    </head>\n    <body>'.concat(f.outerHTML,"\n    </body>\n    </html>")),d.document.close();const n=d.document.createElement("script");n.setAttribute("src","/ra/print.js"),d.document.head.appendChild(n)}async function T(){A(document.getElementById("print"))}return(f,d)=>(t(),L(z,null,{default:h(()=>[m(l(k),{"router-link":"/riskassessment/"+l(b).id+"/sign"},{default:h(()=>[a("Unterzeichnen")]),_:1},8,["router-link"]),m(l(k),{onClick:d[0]||(d[0]=n=>T())},{default:h(()=>[a("Drucken")]),_:1}),m(l(x),null,{default:h(()=>[m(l(M),null,{default:h(()=>[m(l(v),null,{default:h(()=>[a("Druckvorschau")]),_:1})]),_:1}),m(l(w),null,{default:h(()=>[e("div",B,[G,I,e("p",null,[R,a(" "+r(l(o).company),1)]),e("p",null,[N,a(" "+r(l(o).startDate)+" "+r(l(o).endDate?l(o).endDate:""),1)]),e("p",null,[V,a(" "+r(l(o).address),1)]),e("p",null,[F,j,a(" "+r(l(o).jobDescr),1)]),l(o).supervisors?(t(),s("p",P,[S,a(" "+r(l(o).supervisors.map(n=>n.name).join(", ")),1)])):_("",!0),$,e("table",null,[Z,(t(!0),s(u,null,c(l(o).technicians,n=>{var p,i;return t(),s("tr",null,[e("td",null,r(n.name),1),e("td",null,r((p=n.fisat)==null?void 0:p.id),1),e("td",null,r((i=n.fisat)==null?void 0:i.level),1)])}),256))]),e("p",null,[U,e("ul",null,[(t(!0),s(u,null,c(l(o).equipment,n=>(t(),s("li",null,r(n.descr),1))),256))])]),q,(t(!0),s(u,null,c(l(o).access,n=>(t(),s(u,null,[e("p",null,[e("strong",null,r(n.title),1)]),n.access?(t(),s("p",J,[K,a(),e("span",{innerHTML:n.access},null,8,W)])):_("",!0),n.exit?(t(),s("p",O,[Q,a(),e("span",{innerHTML:n.exit},null,8,X)])):_("",!0),n.anchorPoints?(t(),s("p",Y,[ee,a(),e("span",{innerHTML:n.anchorPoints},null,8,ne)])):_("",!0),n.comment?(t(),s("p",{key:3,innerHTML:n.comment},null,8,te)):_("",!0)],64))),256)),se,(t(!0),s(u,null,c(l(o).access,n=>(t(),s(u,null,[e("p",null,[e("strong",null,r(n.title),1)]),e("p",{innerHTML:n.rescue},null,8,le)],64))),256)),re,(t(!0),s(u,null,c([l(g).Access,l(g).Environment,l(g).Work],n=>(t(),s(u,null,[n===l(g).Access?(t(),s("h3",ue,"Gefahren durch die ausgewählten Zugangstechniken")):n===l(g).Environment?(t(),s("h3",oe,"Gefahren durch die Arbeitsumgebung")):(t(),s("h3",ie,"Gefahren durch die Arbeit")),e("table",null,[ae,e("tbody",null,[(t(!0),s(u,null,c(l(o).categories,p=>(t(),s(u,null,[p.risks.filter(i=>i.risk.sector===n).length?(t(),s(u,{key:0},[e("tr",null,[e("th",de,r(p.descr),1)]),(t(!0),s(u,null,c(p.risks.filter(i=>i.risk.sector===n),i=>(t(),s("tr",null,[e("td",null,[e("span",ce,r(i.risk.factor.descr),1),a(" "+r(i.risk.descr),1)]),e("td",null,[i.measures.length>1?(t(),s("ul",he,[(t(!0),s(u,null,c(i.measures,y=>(t(),s("li",null,r(y.descr),1))),256))])):i.measures.length===1?(t(),s(u,{key:1},[a(r(i.measures[0].descr),1)],64)):_("",!0)])]))),256))],64)):_("",!0)],64))),256))])])],64))),256)),_e,pe,(t(!0),s(u,null,c(l(o).signatures,n=>(t(),s("div",null,[e("img",{src:n.signature},null,8,me)]))),256))])]),_:1})]),_:1})]),_:1}))}});export{Ee as default};
