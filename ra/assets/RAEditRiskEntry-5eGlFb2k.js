import{d as y,u as I,b as V,o as f,c as p,w as s,e,f as M,a as r,q as c,h as g,i as l,t as m,a5 as R,ah as b,k as _,N as B,I as h,g as A,j as N,F as T}from"./index-pK9Jxw9y.js";import{u as v}from"./riskassessment-Xs3F2YkL.js";import{l as w}from"./liveriskstree-HKGbfupc.js";import{l as x}from"./livequery-xJJKFniU.js";import{_ as L}from"./MeasureCatalog.vue_vue_type_script_setup_true_lang-CoDlZMsA.js";import{_ as C}from"./AddedByList.vue_vue_type_script_setup_true_lang-sjZ15DCa.js";import{T as E}from"./TemplateRiskAssessmentPage-n3dosaMH.js";import"./helpers-_vyyZU2O.js";import"./GenericList.vue_vue_type_script_setup_true_lang-yMOk-ZyN.js";const $={style:{"font-size":"1.2rem","margin-bottom":"0.3rem"}},S=y({__name:"RAEditRiskEntry",setup(z){const t=v(),i=x.table("measures"),a=parseInt(I().params.riskId),o=w.getAsRef(a),k=V(()=>{if(!i.isReady().value)return[];t.getMeasures(a).map(u=>i.get(u))});return t.getMeasures(a),(u,n)=>(f(),p(E,null,{default:s(()=>[e(o)&&e(t).ready&&e(i).isReady()?(f(),M(T,{key:0},[r(e(h),{lines:"none"},{default:s(()=>[r(e(c),{class:"ion-margin-bottom"},{default:s(()=>[r(e(g),{position:"stacked"},{default:s(()=>[l(m(e(o).factor.category.descr)+" ➤ "+m(e(o).factor.descr),1)]),_:1}),R("p",$,m(e(o).descr),1),e(t).getMeta(e(a)).addedBy.length>0?(f(),p(e(b),{key:0},{default:s(()=>[r(C,{"trigger-list":e(t).getMeta(e(a)).addedBy},null,8,["trigger-list"])]),_:1})):_("",!0)]),_:1}),r(e(c),null,{default:s(()=>[l(m(e(t).getMeta(e(a)))+" ",1),r(e(B),{label:"Kommentar","auto-grow":"","label-placement":"floating",modelValue:e(t).getMeta(e(a)).comment,"onUpdate:modelValue":n[0]||(n[0]=d=>e(t).getMeta(e(a)).comment=d)},null,8,["modelValue"])]),_:1})]),_:1}),r(L,{modelValue:e(t).measures[e(a)],"onUpdate:modelValue":n[1]||(n[1]=d=>e(t).measures[e(a)]=d),entries:k.value,inverted:""},{header:s(()=>[r(e(A),null,{default:s(()=>[r(e(g),null,{default:s(()=>[l("Ausgewählte Maßnahmen")]),_:1}),r(e(N),{"router-link":u.$route.path+"/addmeasures"},{default:s(()=>[l("Hinzufügen")]),_:1},8,["router-link"])]),_:1})]),_:1},8,["modelValue","entries"])],64)):_("",!0)]),_:1}))}});export{S as default};
