System.register(["./index-legacy-sS6aLOVw.js","./TechniciansList.vue_vue_type_script_setup_true_lang-legacy-Y--QzeHl.js","./riskassessment-legacy-obaEtDzR.js","./livequery-legacy-hzDUtCPS.js","./TemplateRiskAssessmentPage-legacy-xv6_oqnk.js","./GenericList.vue_vue_type_script_setup_true_lang-legacy-j-337cqn.js","./helpers-legacy-jVuaT5b9.js","./database-legacy-zPeqZLiu.js","./liveriskstree-legacy-L2MofBxz.js"],(function(e,l){"use strict";var t,a,s,i,n,u,c,r,o,d,v,f,_,y,g,p,m,h,j,b,k,V,q,x,T,w,A;return{setters:[e=>{t=e.d,a=e.e,s=e.x,i=e.u,n=e.o,u=e.c,c=e.w,r=e.b,o=e.f,d=e.aq,v=e.i,f=e.j,_=e.ar,y=e.t,g=e.as,p=e.l,m=e.r,h=e.g,j=e.m,b=e.n,k=e.p,V=e.q,q=e.F},e=>{x=e._},e=>{T=e.u},e=>{w=e.l},e=>{A=e.T},null,null,null,null],execute:function(){e("default",t({__name:"RAEditTechnicians",setup(e){const l=T(),t=a((()=>w.table("technicians").isReady().value?l.technicians.map((e=>w.table("technicians").get(e))):[])),L=s("selected");return["selected","available"].includes(i().query.segment)&&(L.value=i().query.segment),(e,a)=>(n(),u(A,null,{default:c((()=>[r(o(_),{value:L.value,onIonChange:a[0]||(a[0]=l=>{L.value=l.detail.value,e.$router.replace({query:{segment:l.detail.value}})})},{default:c((()=>[r(o(d),{value:"selected"},{default:c((()=>[r(o(v),null,{default:c((()=>[f("Ausgewählt")])),_:1})])),_:1}),r(o(d),{value:"available"},{default:c((()=>[r(o(v),null,{default:c((()=>[f("Verfügbar")])),_:1})])),_:1})])),_:1},8,["value"]),"selected"===L.value?(n(),u(x,{key:0,entries:t.value,modelValue:o(l).technicians,"onUpdate:modelValue":a[1]||(a[1]=e=>o(l).technicians=e),inverted:"","forbid-deletion":""},{default:c((e=>[r(o(m),null,{default:c((()=>[r(o(v),null,{default:c((()=>[f(y(e.object.name),1)])),_:2},1024),e.object.fisat?(n(),u(o(g),{key:0,slot:"end",color:3===e.object.fisat.level?"tertiary":"medium",onClick:t=>function(e){if(void 0===e.id)return void console.warn("Technician ID is undefined");if(!e.fisat||3!==e.fisat.level)return;const t=l.supervisors.indexOf(e.id);console.log(t),-1!==t?l.supervisors.splice(t,1):l.supervisors.push(e.id)}(e.object)},{default:c((()=>[f(" Level "+y(e.object.fisat.level),1)])),_:2},1032,["color","onClick"])):p("",!0),o(l).supervisors.includes(e.object.id)?(n(),u(o(g),{key:1,slot:"start"},{default:c((()=>[f("Supervisor")])),_:1})):p("",!0)])),_:2},1024)])),_:1},8,["entries","modelValue"])):(n(),h(q,{key:1},[r(o(V),{slot:"fixed",vertical:"bottom",horizontal:"end"},{default:c((()=>[r(o(j),{"router-link":"/technicians/new"},{default:c((()=>[r(o(b),{icon:o(k)},null,8,["icon"])])),_:1})])),_:1}),r(x,{modelValue:o(l).technicians,"onUpdate:modelValue":a[2]||(a[2]=e=>o(l).technicians=e)},null,8,["modelValue"])],64))])),_:1}))}}))}}}));
