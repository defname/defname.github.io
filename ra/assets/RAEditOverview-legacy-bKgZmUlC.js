System.register(["./index-legacy-I3VWwJ3d.js","./riskassessment-legacy-vWSAB9X4.js","./livequery-legacy-7UEI3GHC.js","./TemplateRiskAssessmentPage-legacy-o58SR2HU.js","./helpers-legacy-8j4YqDOj.js","./liveriskstree-legacy--j7qBAr2.js"],(function(e,l){"use strict";var n,t,a,s,i,o,r,c,d,u,k,g,m,f,y,h,p,b,_,v,w,x,j,z,D,E,V,A,R,S,q,I,C,F,G,P,T;return{setters:[e=>{n=e.d,t=e.o,a=e.c,s=e.f,i=e.X,o=e.n,r=e._,c=e.e,d=e.Z,u=e.$,k=e.w,g=e.b,m=e.h,f=e.j,y=e.r,h=e.a0,p=e.l,b=e.D,_=e.a1,v=e.N,w=e.a2,x=e.a3,j=e.a4,z=e.i,D=e.g,E=e.F,V=e.V,A=e.a5,R=e.a6,S=e.t,q=e.a7,I=e.a8,C=e.I},e=>{F=e.u,G=e.a},e=>{P=e.l},e=>{T=e.T},null,null],execute:function(){var l=document.createElement("style");l.textContent=".checkmark[data-v-b74799a7]{float:right}.label[data-v-ecfe1c33]{margin-bottom:10px}.nested-list[data-v-ecfe1c33]{background:transparent;width:100%;padding:0;margin:0}.nested-list-item[data-v-ecfe1c33]{background:transparent;padding:0;margin:0;border:0}\n",document.head.appendChild(l);const U=r(n({__name:"Checkmark",setup:e=>(e,l)=>(t(),a(s(o),{class:"checkmark",slot:"end",color:"success",icon:s(i)},null,8,["icon"]))}),[["__scopeId","data-v-b74799a7"]]),B={key:1,class:"nested-list",lines:"none"},H={class:"ion-no-padding ion-no-margin nested-list-item",lines:"none"},M={key:1,class:"nested-list ion-no-padding",lines:"none"},N={class:"ion-no-padding ion-no-margin nested-list-item",lines:"none",size:"small"};e("default",r(n({__name:"RAEditOverview",setup(e){const l=P.table("technicians"),n=P.table("equipment"),i=F(),r=c((()=>l.isReady().value?i.technicians.map((e=>l.get(e))):[])),O=c((()=>n.isReady().value?i.equipment.map((e=>n.get(e))):[])),X="/riskassessment/"+i.id,Z=G(),$=d({direct:-1,all:-1,solved:-1});return u(Z,(async()=>{await i.ready,$.direct=i.risks.length;const e=await i.calcAllRisks();$.all=e.length,$.solved=e.filter((e=>void 0!==i.measures[e]&&i.measures[e].length>0)).length})),(e,l)=>(t(),a(T,null,{default:k((()=>[g(s(C),{lines:"full"},{default:k((()=>[g(s(m),null,{default:k((()=>[f(" Allgemeines ")])),_:1}),g(s(y),null,{default:k((()=>[g(s(o),{slot:"start",icon:s(h)},null,8,["icon"]),s(i).company?(t(),a(U,{key:0})):p("",!0),g(s(b),{label:"Ausführende Firma","label-placement":"floating",modelValue:s(i).company,"onUpdate:modelValue":l[0]||(l[0]=e=>s(i).company=e)},null,8,["modelValue"])])),_:1}),g(s(y),null,{default:k((()=>[g(s(o),{slot:"start",icon:s(_)},null,8,["icon"]),s(i).jobDescr?(t(),a(U,{key:0})):p("",!0),g(s(v),{label:"Beschreibung der Tätigkeit","label-placement":"floating","auto-grow":"",modelValue:s(i).jobDescr,"onUpdate:modelValue":l[1]||(l[1]=e=>s(i).jobDescr=e)},null,8,["modelValue"])])),_:1}),g(s(y),null,{default:k((()=>[g(s(o),{slot:"start",icon:s(w)},null,8,["icon"]),s(i).address?(t(),a(U,{key:0})):p("",!0),g(s(b),{"router-link":X+"/location",label:"Addresse","label-placement":"floating",readonly:"",value:s(i).address},null,8,["router-link","value"])])),_:1}),g(s(y),null,{default:k((()=>[g(s(o),{slot:"start",icon:s(x)},null,8,["icon"]),s(i).startDate?(t(),a(U,{key:0})):p("",!0),g(s(b),{"router-link":X+"/date",label:"Datum","label-placement":"floating",readonly:"",value:s(i).startDate+(s(i).endDate?" - "+s(i).endDate:"")},null,8,["router-link","value"])])),_:1}),g(s(y),{"router-link":X+"/equipment",detail:!1},{default:k((()=>[g(s(o),{slot:"start",icon:s(j)},null,8,["icon"]),s(i).equipment?(t(),a(U,{key:0})):p("",!0),g(s(z),{position:"stacked",style:{"z-index":"10"},class:"label"},{default:k((()=>[f("Ausrüstung")])),_:1}),O.value.length>0?(t(),D("ul",B,[(t(!0),D(E,null,V(O.value,(e=>(t(),D("li",H,S(e.descr),1)))),256))])):p("",!0)])),_:1},8,["router-link"]),g(s(y),{"router-link":X+"/technicians",detail:!1},{default:k((()=>[g(s(o),{slot:"start",icon:s(A)},null,8,["icon"]),s(i).technicians.length>0?(t(),a(U,{key:0})):p("",!0),g(s(z),{position:"stacked",style:{"z-index":"10"},class:"label"},{default:k((()=>[f("Personal")])),_:1}),s(i).technicians.length>0?(t(),D("ul",M,[(t(!0),D(E,null,V(r.value,(e=>(t(),D("li",N,S(e.name),1)))),256))])):(t(),D(E,{key:2},[f(" Es wurde noch kein Personal ausgewählt ")],64))])),_:1},8,["router-link"]),g(s(y),{"router-link":X+"/access",detail:!1},{default:k((()=>[g(s(o),{slot:"start",icon:s(R)},null,8,["icon"]),s(i).access.length>0?(t(),a(U,{key:0})):p("",!0),g(s(z),{position:"stacked",style:{"z-index":"10"},class:"label"},{default:k((()=>[f("Sektoren")])),_:1}),0===s(i).access.length?(t(),D(E,{key:1},[f("Es wurden noch keine Sektoren definiert")],64)):1===s(i).access.length?(t(),D(E,{key:2},[f("Es wurde ein Sektor definiert")],64)):(t(),D(E,{key:3},[f("Es wurden bisher "+S(s(i).access.length)+" Sektoren definiert",1)],64))])),_:1},8,["router-link"]),g(s(y),{"router-link":X+"/rescue",detail:!1},{default:k((()=>[g(s(o),{slot:"start",icon:s(q)},null,8,["icon"]),s(i).access.length>0?(t(),a(U,{key:0})):p("",!0),g(s(z),{position:"stacked",style:{"z-index":"10"},class:"label"},{default:k((()=>[f("Rettungskonzept")])),_:1}),0===s(i).access.length?(t(),D(E,{key:1},[f("Es wurden noch keine Sektoren definiert")],64)):(t(),D(E,{key:2},[f("Für "+S(s(i).access.filter((e=>e.rescue)).length)+" Sektoren existiert ein Rettungskonzept",1)],64))])),_:1},8,["router-link"]),g(s(y),{"router-link":X+"/risks",detail:!1},{default:k((()=>[g(s(o),{slot:"start",icon:s(I)},null,8,["icon"]),s(i).access.length>0?(t(),a(U,{key:0})):p("",!0),g(s(z),{position:"stacked",style:{"z-index":"10"},class:"label"},{default:k((()=>[f("Gefährdungen")])),_:1}),0===$.all?(t(),D(E,{key:1},[f("Es wurden noch keine Gefährdungen hinzugefügt")],64)):(t(),D(E,{key:2},[f(" Von insgesamt "+S($.all)+" Gefährdungen sind für "+S($.solved)+" Maßnahmen angegeben. ",1)],64))])),_:1},8,["router-link"])])),_:1})])),_:1}))}}),[["__scopeId","data-v-ecfe1c33"]]))}}}));
