import{i as g,n as A,a as h,t as m,b as D}from"./index-f-7hbMvm.js";import{x as r,ad as M,e as E,aA as S,aB as x}from"./index-xm7OlJwR.js";function L(o){var n;const e=m(o);return(n=e==null?void 0:e.$el)!=null?n:e}const k=g?window:void 0;function y(...o){let n,e,t,a;if(typeof o[0]=="string"||Array.isArray(o[0])?([e,t,a]=o,n=k):[n,e,t,a]=o,!n)return A;Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]);const s=[],l=()=>{s.forEach(u=>u()),s.length=0},v=(u,c,f,i)=>(u.addEventListener(c,f,i),()=>u.removeEventListener(c,f,i)),d=M(()=>[L(n),m(a)],([u,c])=>{if(l(),!u)return;const f=h(c)?{...c}:c;s.push(...e.flatMap(i=>t.map(w=>v(u,i,w,f))))},{immediate:!0,flush:"post"}),p=()=>{d(),l()};return D(p),p}function C(){const o=r(!1);return S()&&x(()=>{o.value=!0}),o}function O(o){const n=C();return E(()=>(n.value,!!o()))}function N(o={}){const{window:n=k}=o,e=n==null?void 0:n.navigator,t=O(()=>e&&"connection"in e),a=r(!0),s=r(!1),l=r(void 0),v=r(void 0),d=r(void 0),p=r(void 0),u=r(void 0),c=r(void 0),f=r("unknown"),i=t.value&&e.connection;function w(){e&&(a.value=e.onLine,l.value=a.value?void 0:Date.now(),v.value=a.value?Date.now():void 0,i&&(d.value=i.downlink,p.value=i.downlinkMax,c.value=i.effectiveType,u.value=i.rtt,s.value=i.saveData,f.value=i.type))}return n&&(y(n,"offline",()=>{a.value=!1,l.value=Date.now()}),y(n,"online",()=>{a.value=!0,v.value=Date.now()})),i&&y(i,"change",w,!1),w(),{isSupported:t,isOnline:a,saveData:s,offlineAt:l,onlineAt:v,downlink:d,downlinkMax:p,effectiveType:c,rtt:u,type:f}}function B(o={}){const{isOnline:n}=N(o);return n}function I(o={}){const{window:n=k}=o,e=O(()=>n&&"screen"in n&&"orientation"in n.screen),t=e.value?n.screen.orientation:{},a=r(t.type),s=r(t.angle||0);return e.value&&y(n,"orientationchange",()=>{a.value=t.type,s.value=t.angle}),{isSupported:e,orientation:a,angle:s,lockOrientation:d=>e.value&&typeof t.lock=="function"?t.lock(d):Promise.reject(new Error("Not supported")),unlockOrientation:()=>{e.value&&typeof t.unlock=="function"&&t.unlock()}}}export{I as a,B as u};
