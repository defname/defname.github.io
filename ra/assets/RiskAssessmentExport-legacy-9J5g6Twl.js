System.register(["./index-legacy-2CesrrWX.js","./riskassessment-legacy-wYBZv6ld.js","./GenericEditModal-legacy-ahjQwwTC.js","./helpers-legacy-LaXtun3V.js","./TemplateRiskAssessmentPage-legacy-FO2opga3.js","./SignatureInput-legacy-kI4GnHnt.js","./livequery-legacy-Hb61fPKz.js","./liveriskstree-legacy-qRkpQPkU.js","./index-legacy-ZQsE_Uyj.js"],(function(n,e){"use strict";var l,t,s,u,r,i,a,c,d,o,g,h,p,m,f,k,y,v,b,T,A,H,j,E,M,D;return{setters:[n=>{l=n.d,t=n.x,s=n.aj,u=n.o,r=n.c,i=n.w,a=n.b,c=n.j,d=n.f,o=n.k,g=n.H,h=n.J,p=n.K,m=n.a,f=n.t,k=n.g,y=n.l,v=n.R,b=n.F,T=n.G},n=>{A=n.u,H=n.b},n=>{j=n.G},n=>{E=n.S},n=>{M=n.T},n=>{D=n.S},null,null,null],execute:function(){const e={id:"print"},L=m("h1",null,"Einsatzplanung",-1),_=m("p",null," Es wird grundsätzlich nach den geltenden Regeln und Vorschriften der DGUV, dem Arbeitsschutzgesetz, der BetrSichV, den TRBS und der FISAT FSR-SZP gearbeitet. ",-1),z=m("strong",null,"Ausführende Firma:",-1),S=m("strong",null,"Einsatzdatum:",-1),x=m("strong",null,"Einsatzort:",-1),G=m("strong",null,"Durchzuführende Arbeiten:",-1),w=m("br",null,null,-1),R={key:0},F=m("strong",null,"Aufsichtsführende Höhenarbeiter:",-1),I=m("p",null,[m("strong",null,"Höhenarbeiter:")],-1),P=m("thead",null,[m("tr",null,[m("th",null,"Name"),m("th",null,"FISAT-Nr"),m("th",null,"Level")])],-1),N=m("strong",null,"Ausrüstung:",-1),U=m("h2",null,"Zugangsverfahren",-1),B={key:0},C=m("strong",null,"Einstieg:",-1),V=["innerHTML"],Z={key:1},q=m("strong",null,"Ausstieg:",-1),K=["innerHTML"],W={key:2},$=m("strong",null,"Anschlagpunkte:",-1),J=["innerHTML"],O=["innerHTML"],Q=m("h2",null,"Notfall- und Rettungsplan",-1),X=["innerHTML"],Y=m("h1",null,"Gefährdungsermittlung",-1),nn={key:0},en={key:1},ln={key:2},tn=m("thead",null,[m("tr",null,[m("th",null,"Gefährdung"),m("th",null,"Maßnahme")])],-1),sn={colspan:"2"},un={class:"factor"},rn={key:0},an=["src"],cn={key:2},dn=[m("strong",null,"Ohne Unterschrift",-1)],on=m("h1",null,"Empfangsbestätigung",-1),gn=m("p",null," Es wird bestätigt, über Gefahren und Maßnahmen aufgeklärt worden zu sein. ",-1),hn=["src"];n("default",l({__name:"RiskAssessmentExport",setup(n){const l=A(),{exportData:pn,updateExportData:mn}=H(),fn=t(void 0),kn=t(!1);async function yn(){!function(n){const e=window.open("","print","");if(!e)return;e.open(),e.document.write(`<html>\n    <head>\n        <link rel="stylesheet" href="/ra/print.css" />\n    </head>\n    <body>${n.outerHTML}\n    </body>\n    </html>`),e.document.close();const l=e.document.createElement("script");l.setAttribute("src","/ra/print.js"),e.document.head.appendChild(l)}(document.getElementById("print"))}function vn(n){l.signature=n,mn()}return s((()=>{mn()})),(n,t)=>(u(),r(M,null,{default:i((()=>[a(d(o),{"router-link":"/riskassessment/"+d(l).id+"/sign"},{default:i((()=>[c("Unterzeichnen (Technicker)")])),_:1},8,["router-link"]),a(d(o),{onClick:t[0]||(t[0]=n=>kn.value=!0)},{default:i((()=>[c("Unterzeichnen")])),_:1}),a(d(o),{onClick:t[1]||(t[1]=n=>yn())},{default:i((()=>[c("Drucken")])),_:1}),a(j,{"is-open":kn.value,"hide-save":"",onWillDismiss:t[2]||(t[2]=n=>kn.value=!1),onDidPresent:t[3]||(t[3]=e=>n.$refs.signatureinput.updateDimensions())},{default:i((()=>[a(D,{onSignature:vn,ref_key:"signatureinput",ref:fn},null,512)])),_:1},8,["is-open"]),a(d(T),null,{default:i((()=>[a(d(g),null,{default:i((()=>[a(d(h),null,{default:i((()=>[c("Druckvorschau")])),_:1})])),_:1}),a(d(p),null,{default:i((()=>[m("div",e,[L,_,m("p",null,[z,c(" "+f(d(pn).company),1)]),m("p",null,[S,c(" "+f(d(pn).startDate)+" "+f(d(pn).endDate?d(pn).endDate:""),1)]),m("p",null,[x,c(" "+f(d(pn).address),1)]),m("p",null,[G,w,c(" "+f(d(pn).jobDescr),1)]),d(pn).supervisors?(u(),k("p",R,[F,c(" "+f(d(pn).supervisors.map((n=>n.name)).join(", ")),1)])):y("",!0),I,m("table",null,[P,(u(!0),k(b,null,v(d(pn).technicians,(n=>{var e,l;return u(),k("tr",null,[m("td",null,f(n.name),1),m("td",null,f(null===(e=n.fisat)||void 0===e?void 0:e.id),1),m("td",null,f(null===(l=n.fisat)||void 0===l?void 0:l.level),1)])})),256))]),m("p",null,[N,m("ul",null,[(u(!0),k(b,null,v(d(pn).equipment,(n=>(u(),k("li",null,f(n.descr),1)))),256))])]),U,(u(!0),k(b,null,v(d(pn).access,(n=>(u(),k(b,null,[m("p",null,[m("strong",null,f(n.title),1)]),n.access?(u(),k("p",B,[C,c(),m("span",{innerHTML:n.access},null,8,V)])):y("",!0),n.exit?(u(),k("p",Z,[q,c(),m("span",{innerHTML:n.exit},null,8,K)])):y("",!0),n.anchorPoints?(u(),k("p",W,[$,c(),m("span",{innerHTML:n.anchorPoints},null,8,J)])):y("",!0),n.comment?(u(),k("p",{key:3,innerHTML:n.comment},null,8,O)):y("",!0)],64)))),256)),Q,(u(!0),k(b,null,v(d(pn).access,(n=>(u(),k(b,null,[m("p",null,[m("strong",null,f(n.title),1)]),m("p",{innerHTML:n.rescue},null,8,X)],64)))),256)),Y,(u(!0),k(b,null,v([d(E).Access,d(E).Environment,d(E).Work],(n=>(u(),k(b,null,[n===d(E).Access?(u(),k("h3",nn,"Gefahren durch die ausgewählten Zugangstechniken")):n===d(E).Environment?(u(),k("h3",en,"Gefahren durch die Arbeitsumgebung")):(u(),k("h3",ln,"Gefahren durch die Arbeit")),m("table",null,[tn,m("tbody",null,[(u(!0),k(b,null,v(d(pn).categories,(e=>(u(),k(b,null,[e.risks.filter((e=>e.risk.sector===n)).length?(u(),k(b,{key:0},[m("tr",null,[m("th",sn,f(e.descr),1)]),(u(!0),k(b,null,v(e.risks.filter((e=>e.risk.sector===n)),(n=>(u(),k("tr",null,[m("td",null,[m("span",un,f(n.risk.factor.descr),1),c(" "+f(n.risk.descr),1)]),m("td",null,[n.measures.length>1?(u(),k("ul",rn,[(u(!0),k(b,null,v(n.measures,(n=>(u(),k("li",null,f(n.descr),1)))),256))])):1===n.measures.length?(u(),k(b,{key:1},[c(f(n.measures[0].descr),1)],64)):y("",!0)])])))),256))],64)):y("",!0)],64)))),256))])])],64)))),256)),d(pn).signature?(u(),k("img",{key:1,src:d(pn).signature.signature},null,8,an)):(u(),k("p",cn,dn)),on,gn,(u(!0),k(b,null,v(d(pn).signatures,(n=>(u(),k("div",null,[m("img",{src:n.signature},null,8,hn)])))),256))])])),_:1})])),_:1})])),_:1}))}}))}}}));
