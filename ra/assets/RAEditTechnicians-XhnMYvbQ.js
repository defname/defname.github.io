import{d as y,b as I,G as V,u as c,o,c as d,w as a,a as l,e,a7 as f,h as m,i as u,a8 as h,t as p,a9 as v,k as b,q as j,f as B,l as C,m as A,n as R,p as S,F as q}from"./index-pK9Jxw9y.js";import{_ as g}from"./TechniciansList.vue_vue_type_script_setup_true_lang-5GW0wXXV.js";import{u as w}from"./riskassessment-Xs3F2YkL.js";import{l as _}from"./livequery-xJJKFniU.js";import{T as x}from"./TemplateRiskAssessmentPage-n3dosaMH.js";import"./GenericList.vue_vue_type_script_setup_true_lang-yMOk-ZyN.js";import"./helpers-_vyyZU2O.js";import"./liveriskstree-HKGbfupc.js";const P=y({__name:"RAEditTechnicians",setup(F){const s=w(),k=I(()=>_.table("technicians").isReady().value?s.technicians.map(r=>_.table("technicians").get(r)):[]),i=V("selected");["selected","available"].includes(c().query.segment)&&(i.value=c().query.segment);function T(r){}return(r,n)=>(o(),d(x,null,{default:a(()=>[l(e(h),{value:i.value,onIonChange:n[0]||(n[0]=t=>{i.value=t.detail.value,r.$router.replace({query:{segment:t.detail.value}})})},{default:a(()=>[l(e(f),{value:"selected"},{default:a(()=>[l(e(m),null,{default:a(()=>[u("Ausgewählt")]),_:1})]),_:1}),l(e(f),{value:"available"},{default:a(()=>[l(e(m),null,{default:a(()=>[u("Verfügbar")]),_:1})]),_:1})]),_:1},8,["value"]),i.value==="selected"?(o(),d(g,{key:0,entries:k.value,modelValue:e(s).technicians,"onUpdate:modelValue":n[1]||(n[1]=t=>e(s).technicians=t),inverted:"","forbid-deletion":""},{default:a(t=>[l(e(j),null,{default:a(()=>[l(e(m),null,{default:a(()=>[u(p(t.object.name),1)]),_:2},1024),t.object.fisat?(o(),d(e(v),{key:0,slot:"end",color:t.object.fisat.level===3?"tertiary":"medium",onClick:N=>(t.object,void 0)},{default:a(()=>[u(" Level "+p(t.object.fisat.level),1)]),_:2},1032,["color","onClick"])):b("",!0),e(s).supervisors.includes(t.object.id)?(o(),d(e(v),{key:1,slot:"start"},{default:a(()=>[u("Supervisor")]),_:1})):b("",!0)]),_:2},1024)]),_:1},8,["entries","modelValue"])):(o(),B(q,{key:1},[l(e(S),{slot:"fixed",vertical:"bottom",horizontal:"end"},{default:a(()=>[l(e(C),{"router-link":"/technicians/new"},{default:a(()=>[l(e(A),{icon:e(R)},null,8,["icon"])]),_:1})]),_:1}),l(g,{modelValue:e(s).technicians,"onUpdate:modelValue":n[2]||(n[2]=t=>e(s).technicians=t)},null,8,["modelValue"])],64))]),_:1}))}});export{P as default};
