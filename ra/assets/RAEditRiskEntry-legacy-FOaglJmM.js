System.register(["./index-legacy-_V2JG4xb.js","./riskassessment-legacy-khUYU0Ap.js","./liveriskstree-legacy-psEmqLfo.js","./livequery-legacy-DVuWgej8.js","./MeasureCatalog.vue_vue_type_script_setup_true_lang-legacy-Npv8TY8y.js","./AddedByList.vue_vue_type_script_setup_true_lang-legacy-syE2uhi8.js","./TemplateRiskAssessmentPage-legacy-t4PepyDl.js","./helpers-legacy-72zI7Q26.js","./GenericList.vue_vue_type_script_setup_true_lang-legacy-7Ak10byp.js"],(function(e,l){"use strict";var a,t,u,s,n,r,d,i,o,_,c,m,g,f,y,v,p,k,j,b,V,R,M,h,w,x,A,I,q,B,C,E,T,U;return{setters:[e=>{a=e.d,t=e.u,u=e.e,s=e.x,n=e.o,r=e.c,d=e.w,i=e.f,o=e.g,_=e.q,c=e.b,m=e.n,g=e.p,f=e.m,y=e.l,v=e.H,p=e.T,k=e.i,j=e.j,b=e.t,V=e.J,R=e.an,M=e.K,h=e.E,w=e.G,x=e.aj,A=e.ai,I=e.F},e=>{q=e.u},e=>{B=e.l},e=>{C=e.l},e=>{E=e._},e=>{T=e._},e=>{U=e.T},null,null],execute:function(){e("default",a({__name:"RAEditRiskEntry",setup(e){const l=q(),a=C.table("measures"),z=parseInt(t().params.riskId),G=B.getAsRef(z),H=u((()=>{if(!a.isReady().value)return[];l.getMeasures(z).map((e=>a.get(e)))}));C.table("measures").updated();const K=u((()=>void 0!==G.value&&C.table("measures").isReady()?C.table("measures").entries().filter((e=>e.solveRisks.includes(G.value.id))):[])),L=s("selected");return(e,t)=>(n(),r(U,null,{default:d((()=>[i(G)&&i(l).isReady&&i(a).isReady()?(n(),o(I,{key:0},["selected"!==L.value?(n(),r(i(_),{key:0,slot:"fixed",vertical:"bottom",horizontal:"end"},{default:d((()=>[c(i(f),{"router-link":`/measures/new?for=${i(G).id}`},{default:d((()=>[c(i(m),{icon:i(g)},null,8,["icon"])])),_:1},8,["router-link"])])),_:1})):y("",!0),c(i(w),null,{default:d((()=>[c(i(v),null,{default:d((()=>[c(i(p),null,{default:d((()=>[c(i(k),{position:"stacked"},{default:d((()=>[j(b(i(G).factor.category.descr)+" ➤ "+b(i(G).factor.descr),1)])),_:1})])),_:1}),c(i(V),null,{default:d((()=>[j(b(i(G).descr),1)])),_:1}),i(l).getMeta(i(z)).addedBy.length>0?(n(),r(i(R),{key:0},{default:d((()=>[c(T,{"trigger-list":i(l).getMeta(i(z)).addedBy},null,8,["trigger-list"])])),_:1})):y("",!0)])),_:1}),c(i(M),null,{default:d((()=>[c(i(h),{label:"Kommentar","auto-grow":"","label-placement":"floating",modelValue:i(l).getMeta(i(z)).comment,"onUpdate:modelValue":t[0]||(t[0]=e=>i(l).getMeta(i(z)).comment=e)},null,8,["modelValue"])])),_:1})])),_:1}),c(i(w),null,{default:d((()=>[c(i(v),null,{default:d((()=>[c(i(V),null,{default:d((()=>[j("Maßnahmen")])),_:1})])),_:1}),c(i(M),null,{default:d((()=>[c(i(x),{value:L.value,onIonChange:t[1]||(t[1]=l=>{L.value=l.detail.value,e.$router.replace({query:{segment:l.detail.value}})})},{default:d((()=>[c(i(A),{value:"selected"},{default:d((()=>[c(i(k),null,{default:d((()=>[j("Ausgewählt")])),_:1})])),_:1}),c(i(A),{value:"available"},{default:d((()=>[c(i(k),null,{default:d((()=>[j("Verfügbar")])),_:1})])),_:1})])),_:1},8,["value"]),"selected"===L.value?(n(),r(E,{key:0,modelValue:i(l).measures[i(z)],"onUpdate:modelValue":t[2]||(t[2]=e=>i(l).measures[i(z)]=e),entries:H.value,inverted:""},null,8,["modelValue","entries"])):(n(),r(E,{key:1,modelValue:i(l).measures[i(z)],"onUpdate:modelValue":t[3]||(t[3]=e=>i(l).measures[i(z)]=e),entries:K.value},null,8,["modelValue","entries"]))])),_:1})])),_:1})],64)):y("",!0)])),_:1}))}}))}}}));
