System.register(["./index-legacy-La_jvRt6.js","./riskassessment-legacy-deVed6iG.js","./liveriskstree-legacy-Mt7epSA0.js","./livequery-legacy-E6C-7scz.js","./MeasureCatalog.vue_vue_type_script_setup_true_lang-legacy-1-xHSrDa.js","./AddedByList.vue_vue_type_script_setup_true_lang-legacy-9cSaoj1n.js","./TemplateRiskAssessmentPage-legacy-uUslXcDi.js","./database-legacy-8-jSFMl0.js","./helpers-legacy-wNo1H66i.js","./GenericList.vue_vue_type_script_setup_true_lang-legacy--ewI1ZnE.js"],(function(e,l){"use strict";var a,t,u,s,n,r,d,i,o,_,c,g,m,f,y,v,p,k,b,j,R,V,M,h,A,w,x,B,C,q,E,I,K,L;return{setters:[e=>{a=e.d,t=e.u,u=e.e,s=e.x,n=e.o,r=e.c,d=e.w,i=e.f,o=e.g,_=e.q,c=e.b,g=e.n,m=e.p,f=e.m,y=e.l,v=e.H,p=e.Z,k=e.i,b=e.j,j=e.t,R=e.J,V=e.aC,M=e.K,h=e.E,A=e.G,w=e.R,x=e.T,B=e.F},e=>{C=e.u},e=>{q=e.l},e=>{E=e.l},e=>{I=e._},e=>{K=e._},e=>{L=e.T},null,null,null],execute:function(){e("default",a({__name:"RAEditRiskEntry",setup(e){const l=C(),a=E.table("measures"),T=parseInt(t().params.riskId),U=q.getAsRef(T),z=u((()=>{if(!a.isReady().value)return[];l.getMeasures(T).map((e=>a.get(e)))}));E.table("measures").updated();const F=u((()=>void 0!==U.value&&E.table("measures").isReady()?E.table("measures").entries().filter((e=>e.solveRisks.includes(U.value.id))):[])),G=s("selected");return(e,t)=>(n(),r(L,null,{default:d((()=>[i(U)&&i(l).isReady&&i(a).isReady()?(n(),o(B,{key:0},["selected"!==G.value?(n(),r(i(_),{key:0,slot:"fixed",vertical:"bottom",horizontal:"end"},{default:d((()=>[c(i(f),{"router-link":`/measures/new?for=${i(U).id}`},{default:d((()=>[c(i(g),{icon:i(m)},null,8,["icon"])])),_:1},8,["router-link"])])),_:1})):y("",!0),c(i(A),null,{default:d((()=>[c(i(v),null,{default:d((()=>[c(i(p),null,{default:d((()=>[c(i(k),{position:"stacked"},{default:d((()=>[b(j(i(U).factor.category.descr)+" ➤ "+j(i(U).factor.descr),1)])),_:1})])),_:1}),c(i(R),null,{default:d((()=>[b(j(i(U).descr),1)])),_:1}),i(l).getMeta(i(T)).addedBy.length>0?(n(),r(i(V),{key:0},{default:d((()=>[c(K,{"trigger-list":i(l).getMeta(i(T)).addedBy},null,8,["trigger-list"])])),_:1})):y("",!0)])),_:1}),c(i(M),null,{default:d((()=>[c(i(h),{label:"Kommentar","auto-grow":"","label-placement":"floating",modelValue:i(l).getMeta(i(T)).comment,"onUpdate:modelValue":t[0]||(t[0]=e=>i(l).getMeta(i(T)).comment=e)},null,8,["modelValue"])])),_:1})])),_:1}),c(i(A),null,{default:d((()=>[c(i(v),null,{default:d((()=>[c(i(R),null,{default:d((()=>[b("Maßnahmen")])),_:1})])),_:1}),c(i(M),null,{default:d((()=>[c(i(w),{value:G.value,onIonChange:t[1]||(t[1]=l=>{G.value=l.detail.value,e.$router.replace({query:{segment:l.detail.value}})})},{default:d((()=>[c(i(x),{value:"selected"},{default:d((()=>[c(i(k),null,{default:d((()=>[b("Ausgewählt")])),_:1})])),_:1}),c(i(x),{value:"available"},{default:d((()=>[c(i(k),null,{default:d((()=>[b("Verfügbar")])),_:1})])),_:1})])),_:1},8,["value"]),"selected"===G.value?(n(),r(I,{key:0,modelValue:i(l).measures[i(T)],"onUpdate:modelValue":t[2]||(t[2]=e=>i(l).measures[i(T)]=e),entries:z.value,inverted:""},null,8,["modelValue","entries"])):(n(),r(I,{key:1,modelValue:i(l).measures[i(T)],"onUpdate:modelValue":t[3]||(t[3]=e=>i(l).measures[i(T)]=e),entries:F.value},null,8,["modelValue","entries"]))])),_:1})])),_:1})],64)):y("",!0)])),_:1}))}}))}}}));
