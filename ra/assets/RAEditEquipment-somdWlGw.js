import{d as g,e as _,x as b,u as m,o as r,c as i,w as a,b as t,f as e,aq as d,i as p,j as f,ar as k,g as V,m as I,n as y,p as x,q as A,F as B}from"./index-MjQ2o11G.js";import{_ as v}from"./EquipmentList.vue_vue_type_script_setup_true_lang-h7nLXYl2.js";import{u as R}from"./riskassessment-iOSLOJ5G.js";import{l as c}from"./livequery-abB8zLye.js";import{T as w}from"./TemplateRiskAssessmentPage-mYTbDtK2.js";import"./GenericList.vue_vue_type_script_setup_true_lang-ozk1jjzj.js";import"./helpers-67hrFqte.js";import"./database-Jpx-SvdX.js";import"./liveriskstree-ekSLVueQ.js";const z=g({__name:"RAEditEquipment",setup(F){const u=R(),q=_(()=>c.table("equipment").isReady().value?u.equipment.map(o=>c.table("equipment").get(o)):[]),s=b("selected");return["selected","available"].includes(m().query.segment)&&(s.value=m().query.segment),(o,l)=>(r(),i(w,null,{default:a(()=>[t(e(k),{value:s.value,onIonChange:l[0]||(l[0]=n=>{s.value=n.detail.value,o.$router.replace({query:{segment:n.detail.value}})})},{default:a(()=>[t(e(d),{value:"selected"},{default:a(()=>[t(e(p),null,{default:a(()=>[f("Ausgewählt")]),_:1})]),_:1}),t(e(d),{value:"available"},{default:a(()=>[t(e(p),null,{default:a(()=>[f("Verfügbar")]),_:1})]),_:1})]),_:1},8,["value"]),s.value==="selected"?(r(),i(v,{key:0,entries:q.value,modelValue:e(u).equipment,"onUpdate:modelValue":l[1]||(l[1]=n=>e(u).equipment=n),inverted:"","forbid-deletion":""},null,8,["entries","modelValue"])):(r(),V(B,{key:1},[t(e(A),{slot:"fixed",vertical:"bottom",horizontal:"end"},{default:a(()=>[t(e(I),{"router-link":"/equipment/new"},{default:a(()=>[t(e(y),{icon:e(x)},null,8,["icon"])]),_:1})]),_:1}),t(v,{modelValue:e(u).equipment,"onUpdate:modelValue":l[2]||(l[2]=n=>e(u).equipment=n)},null,8,["modelValue"])],64))]),_:1}))}});export{z as default};
