import{d as E,G as H,o as t,c as L,w as f,b as k,j as d,f as l,k as M,R as v,a as e,t as o,g as s,l as _,V as h,F as u,O as x,a9 as I,aa as w,_ as D}from"./index-RibdAejQ.js";import{u as R,b as B}from"./riskassessment-xF-vHB8I.js";import{S as m}from"./helpers-8DsvcW-E.js";import{T as C}from"./TemplateRiskAssessmentPage-2-tks2_-.js";import"./livequery-wJvcpifI.js";import"./liveriskstree-Xv43hPXr.js";const r=g=>(I("data-v-1d3bb39a"),g=g(),w(),g),V={id:"print"},z=r(()=>e("h1",null,"Einsatzplanung",-1)),G=r(()=>e("p",null," Es wird grundsätzlich nach den geltenden Regeln und Vroschriften der DGUV, dem Arbeitsschutzgesetz, der BetrSichV, den TRBS und der FISAT FSR-SZP gearbeitet. ",-1)),N=r(()=>e("strong",null,"Ausführende Firma:",-1)),S=r(()=>e("strong",null,"Einsatzdatum:",-1)),F=r(()=>e("strong",null,"Einsatzort:",-1)),j=r(()=>e("strong",null,"Durchzuführende Arbeiten:",-1)),P=r(()=>e("br",null,null,-1)),$={key:0},Z=r(()=>e("strong",null,"Aufsichtsführende Höhenarbeiter:",-1)),q=r(()=>e("p",null,[e("strong",null,"Höhenarbeiter:")],-1)),O=r(()=>e("thead",null,[e("tr",null,[e("th",null,"Name"),e("th",null,"FISAT-Nr"),e("th",null,"Level")])],-1)),U=r(()=>e("strong",null,"Ausrüstung:",-1)),W=r(()=>e("h2",null,"Zugangsverfahren",-1)),J={key:0},K=r(()=>e("strong",null,"Einstieg:",-1)),Q=["innerHTML"],X={key:1},Y=r(()=>e("strong",null,"Ausstieg:",-1)),ee=["innerHTML"],ne={key:2},te=r(()=>e("strong",null,"Anschlagpunkte:",-1)),se=["innerHTML"],le=["innerHTML"],re=r(()=>e("h2",null,"Notfall- und Rettungsplan",-1)),oe=["innerHTML"],ue=r(()=>e("h1",null,"Gefährdungsermittlung",-1)),ie={key:0},ae={key:1},de={key:2},ce=r(()=>e("thead",null,[e("tr",null,[e("th",null,"Gefährdung"),e("th",null,"Maßnahme")])],-1)),he={colspan:"2"},_e={class:"factor"},pe={key:0},me=E({__name:"RiskAssessmentExport",setup(g){R();const i=B();H("");function A(b){const c=window.open("","print","");if(!c)return;c.open(),c.document.write('<html>\n    <head>\n        <link rel="stylesheet" href="/ra/print.css" />\n    </head>\n    <body>'.concat(b.outerHTML,"\n    </body>\n    </html>")),c.document.close();const n=c.document.createElement("script");n.setAttribute("src","/ra/print.js"),c.document.head.appendChild(n)}async function y(){A(document.getElementById("print"))}return(b,c)=>(t(),L(C,null,{default:f(()=>[k(l(M),{onClick:c[0]||(c[0]=n=>y())},{default:f(()=>[d("Drucken")]),_:1}),k(l(x),null,{default:f(()=>[k(l(v),null,{default:f(()=>[e("div",V,[z,G,e("p",null,[N,d(" "+o(l(i).company),1)]),e("p",null,[S,d(" "+o(l(i).startDate)+" "+o(l(i).endDate?l(i).endDate:""),1)]),e("p",null,[F,d(" "+o(l(i).address),1)]),e("p",null,[j,P,d(" "+o(l(i).jobDescr),1)]),l(i).supervisors?(t(),s("p",$,[Z,d(" "+o(l(i).supervisors.map(n=>n.name).join(", ")),1)])):_("",!0),q,e("table",null,[O,(t(!0),s(u,null,h(l(i).technicians,n=>{var p,a;return t(),s("tr",null,[e("td",null,o(n.name),1),e("td",null,o((p=n.fisat)==null?void 0:p.id),1),e("td",null,o((a=n.fisat)==null?void 0:a.level),1)])}),256))]),e("p",null,[U,e("ul",null,[(t(!0),s(u,null,h(l(i).equipment,n=>(t(),s("li",null,o(n.descr),1))),256))])]),W,(t(!0),s(u,null,h(l(i).access,n=>(t(),s(u,null,[e("p",null,[e("strong",null,o(n.title),1)]),n.access?(t(),s("p",J,[K,d(),e("span",{innerHTML:n.access},null,8,Q)])):_("",!0),n.exit?(t(),s("p",X,[Y,d(),e("span",{innerHTML:n.exit},null,8,ee)])):_("",!0),n.anchorPoints?(t(),s("p",ne,[te,d(),e("span",{innerHTML:n.anchorPoints},null,8,se)])):_("",!0),n.comment?(t(),s("p",{key:3,innerHTML:n.comment},null,8,le)):_("",!0)],64))),256)),re,(t(!0),s(u,null,h(l(i).access,n=>(t(),s(u,null,[e("p",null,[e("strong",null,o(n.title),1)]),e("p",{innerHTML:n.rescue},null,8,oe)],64))),256)),ue,(t(!0),s(u,null,h([l(m).Access,l(m).Environment,l(m).Work],n=>(t(),s(u,null,[n===l(m).Access?(t(),s("h3",ie,"Gefahren durch die ausgewählten Zugangstechniken")):n===l(m).Environment?(t(),s("h3",ae,"Gefahren durch die Arbeitsumgebung")):(t(),s("h3",de,"Gefahren durch die Arbeit")),e("table",null,[ce,e("tbody",null,[(t(!0),s(u,null,h(l(i).categories,p=>(t(),s(u,null,[p.risks.filter(a=>a.risk.sector===n).length?(t(),s(u,{key:0},[e("tr",null,[e("th",he,o(p.descr),1)]),(t(!0),s(u,null,h(p.risks.filter(a=>a.risk.sector===n),a=>(t(),s("tr",null,[e("td",null,[e("span",_e,o(a.risk.factor.descr),1),d(" "+o(a.risk.descr),1)]),e("td",null,[a.measures.length>1?(t(),s("ul",pe,[(t(!0),s(u,null,h(a.measures,T=>(t(),s("li",null,o(T.descr),1))),256))])):a.measures.length===1?(t(),s(u,{key:1},[d(o(a.measures[0].descr),1)],64)):_("",!0)])]))),256))],64)):_("",!0)],64))),256))])])],64))),256))])]),_:1})]),_:1})]),_:1}))}}),Te=D(me,[["__scopeId","data-v-1d3bb39a"]]);export{Te as default};
